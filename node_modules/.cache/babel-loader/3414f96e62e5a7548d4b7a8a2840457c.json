{"ast":null,"code":"var _jsxFileName = \"/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/src/components/Employees/EmployeeNavbar.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Navbar, NavbarBrand, Nav, NavItem, NavLink, Button, Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { NavLink as RRNavLink, useHistory } from 'react-router-dom';\nimport jwt from 'jsonwebtoken';\nimport axiosWithAuth from '../Login/withAuth';\nimport { dbUrl } from '../../actions/index';\nimport Logo from '../../assets/logo.png';\nimport '../../styles/employee-navbar.scss';\n\nconst EmployeeNavbar = () => {\n  const [user, setUser] = useState({});\n  const [isOpen, setIsOpen] = useState(false);\n  let history = useHistory();\n  useEffect(() => {\n    let userId = jwt.decode(localStorage.getItem('token')).user_id;\n\n    async function fetchUser(userId) {\n      await axiosWithAuth().get(`${dbUrl}/user/${userId}`).then(res => setUser(res.data[0]));\n    }\n\n    console.log(user);\n  }, []);\n\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const logout = e => {\n    e.preventDefault();\n    localStorage.removeItem('token');\n    history.push('/');\n  };\n\n  const closeBtn = /*#__PURE__*/React.createElement(Button, {\n    className: \"close\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 22\n    }\n  }, \"\\xD7\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    className: \"employee-navbar\",\n    expand: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NavbarBrand, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"logo\",\n    src: Logo,\n    alt: \"rocky mountain lifts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Nav, {\n    className: \"ml-auto\",\n    navbar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    tag: RRNavLink,\n    className: \"nav-link\",\n    activeClassName: \"active\",\n    to: \"/e_dashboard\",\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"Tasks\")), /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    tag: RRNavLink,\n    className: \"nav-link\",\n    activeClassName: \"active\",\n    to: \"/e_dashboard/workorders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, \"Work Orders\")), /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    tag: RRNavLink,\n    className: \"nav-link\",\n    activeClassName: \"active\",\n    to: \"/e_dashboard/customers\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"Customers\")), /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    tag: RRNavLink,\n    className: \"nav-link\",\n    activeClassName: \"active\",\n    to: \"/e_dashboard/files\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"Files\")), /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    tag: RRNavLink,\n    className: \"nav-link\",\n    activeClassName: \"active\",\n    to: \"/e_dashboard/employees\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, \"Employees\")), /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(NavItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    className: \"nav-link\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, user.firstName, \" \", user.lastName)))), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpen,\n    toggle: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: toggle,\n    close: closeBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ModalBody, {\n    className: \"logout-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    outline: true,\n    color: \"danger\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Logout\"))));\n};\n\nexport default EmployeeNavbar;","map":{"version":3,"sources":["/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/src/components/Employees/EmployeeNavbar.js"],"names":["React","useState","useEffect","Navbar","NavbarBrand","Nav","NavItem","NavLink","Button","Modal","ModalHeader","ModalBody","RRNavLink","useHistory","jwt","axiosWithAuth","dbUrl","Logo","EmployeeNavbar","user","setUser","isOpen","setIsOpen","history","userId","decode","localStorage","getItem","user_id","fetchUser","get","then","res","data","console","log","toggle","logout","e","preventDefault","removeItem","push","closeBtn","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n    Navbar,\n    NavbarBrand,\n    Nav,\n    NavItem,\n    NavLink,\n    Button,\n    Modal,\n    ModalHeader,\n    ModalBody\n} from 'reactstrap';\nimport { NavLink as RRNavLink, useHistory } from 'react-router-dom';\nimport jwt from 'jsonwebtoken';\nimport axiosWithAuth from '../Login/withAuth';\nimport { dbUrl } from '../../actions/index';\nimport Logo from '../../assets/logo.png';\nimport '../../styles/employee-navbar.scss';\n\nconst EmployeeNavbar = () => {\n    const [user, setUser] = useState({});\n    const [isOpen, setIsOpen] = useState(false);\n    let history = useHistory();\n\n    useEffect(() => {\n        let userId = jwt.decode(localStorage.getItem('token')).user_id;\n\n        async function fetchUser(userId) {\n            await axiosWithAuth()\n                .get(`${dbUrl}/user/${userId}`)\n                .then(res => setUser(res.data[0]))\n        }\n    \n        console.log(user);\n    }, []);\n\n    const toggle = () => {\n        setIsOpen(!isOpen);\n    }\n\n    const logout = e => {\n        e.preventDefault();\n        localStorage.removeItem('token');\n        history.push('/');\n    }\n\n    const closeBtn = <Button className=\"close\" onClick={toggle}>&times;</Button>;\n\n    return (\n        <div className=\"nav-container\">\n            <Navbar className=\"employee-navbar\" expand=\"md\">\n                <NavbarBrand href=\"/\">\n                    <div className=\"logo-box\">\n                        <img className=\"logo\" src={ Logo } alt=\"rocky mountain lifts\" />\n                    </div>\n                </NavbarBrand>\n                <Nav className=\"ml-auto\" navbar>\n                    <NavItem>\n                        <NavLink tag={RRNavLink} className=\"nav-link\" activeClassName=\"active\" to=\"/e_dashboard\" exact>\n                            Tasks\n                        </NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <NavLink tag={RRNavLink} className=\"nav-link\" activeClassName=\"active\" to=\"/e_dashboard/workorders\">\n                            Work Orders\n                        </NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <NavLink tag={RRNavLink} className=\"nav-link\" activeClassName=\"active\" to=\"/e_dashboard/customers\">\n                            Customers\n                        </NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <NavLink tag={RRNavLink} className=\"nav-link\" activeClassName=\"active\" to=\"/e_dashboard/files\">\n                            Files\n                        </NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <NavLink tag={RRNavLink} className=\"nav-link\" activeClassName=\"active\" to=\"/e_dashboard/employees\">\n                            Employees\n                        </NavLink>\n                    </NavItem>\n                    <NavItem>\n                        <div className=\"divider\" />\n                    </NavItem>\n                    <NavItem>\n                        <NavLink className=\"nav-link\" onClick={toggle}> \n                            {user.firstName} {user.lastName} \n                        </NavLink> \n                    </NavItem>\n                </Nav>\n            </Navbar>\n            <Modal isOpen={isOpen} toggle={toggle}>\n                <ModalHeader toggle={toggle} close={closeBtn} />\n                <ModalBody className=\"logout-box\">\n                    <Button outline color=\"danger\" onClick={logout}>Logout</Button>\n                </ModalBody>\n            </Modal>   \n        </div>\n    )\n}\n\nexport default EmployeeNavbar;"]},"metadata":{},"sourceType":"module"}