{"ast":null,"code":"import _defineProperty from\"/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{useDispatch,useSelector}from'react-redux';import{Button,Modal,ModalHeader,ModalBody,ModalFooter,Form,FormGroup,FormFeedback,Label,Input}from'reactstrap';import Select from'react-select';import{useLocation}from'react-router-dom';import{addWorkOrder}from'../../actions/addWorkOrder';import'../../styles/sidebar.scss';var AddWorkOrderBtn=function AddWorkOrderBtn(){var _useState=useState({customer:'',serviceDate:'',serviceTime:'',serviceDescription:'',serviceType:[],dispatcher:'',serviceManager:'',officeManager:'',crewMembers:[],prevJobNumber:'',notes:'',officeNotes:'',quote:''}),_useState2=_slicedToArray(_useState,2),workOrder=_useState2[0],setWorkOrder=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var getErrors=useSelector(function(state){return state.addWorkOrderReducer.errors;});var getSuccess=useSelector(function(state){return state.addWorkOrderReducer.success;});var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),employees=_useState8[0],setEmployees=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),serviceManagers=_useState10[0],setServiceManagers=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),officeManagers=_useState12[0],setOfficeManagers=_useState12[1];var employeesArray=[];var serviceManagersArray=[];var officeManagersArray=[];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),customers=_useState14[0],setCustomers=_useState14[1];var customersArray=[];var getUsers=useSelector(function(state){return state.getUsersReducer.users;});var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),hidden=_useState16[0],setHidden=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isOpen=_useState18[0],setIsOpen=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isOpenCheck=_useState20[0],setIsOpenCheck=_useState20[1];var _useState21=useState({}),_useState22=_slicedToArray(_useState21,2),warnings=_useState22[0],setWarnings=_useState22[1];var dispatch=useDispatch();var location=useLocation();useEffect(function(){changeHidden(location);},[location]);var changeHidden=function changeHidden(location){if(location.pathname==='/e_dashboard/workorders'||location.pathname==='/e_dashboard/workorders/'){setHidden(true);}else{setHidden(false);};};var isFirstRun=useRef(true);useEffect(function(){if(isFirstRun.current){isFirstRun.current=false;return;}setErrors(getErrors);},[getErrors]);useEffect(function(){if(getSuccess===true){setSuccess(true);};},[getSuccess]);useEffect(function(){if(success===true){setIsOpen(false);setErrors({});setSuccess(false);setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{customer:'',serviceDate:'',serviceTime:'',serviceDescription:'',serviceType:[],dispatch:'',crewMembers:[],prevJobNumber:'',notes:'',officeNotes:'',quote:''}));};},[success]);useEffect(function(){if(getUsers.users){getUsers.users.forEach(function(user){if(user.userType==='employee'){employeesArray.push({label:\"\".concat(user.firstName,\" \").concat(user.lastName),value:user.userId,name:'crewMembers',jobTitle:user.jobTitle});}else{customersArray.push({label:\"\".concat(user.firstName,\" \").concat(user.lastName),value:user.userId,name:'customer'});};});};employeesArray.push({label:'General Contractor',value:'General Contractor'});setEmployees(employeesArray);setCustomers(customersArray);var serviceManagerId='';var officeManagerId='';employeesArray.forEach(function(employee){if(employee.jobTitle==='Service Manager'){employee.name='serviceManager';serviceManagersArray.push(employee);if(employee.value==='uXwUIQNHljckMtq4AR57zMBExhd2'){serviceManagerId=employee.value;};}else if(employee.jobTitle==='Office Manager'){employee.name='officeManager';officeManagersArray.push(employee);if(employee.value==='lsgIrnXWxsQ6VBqma96aNAIcSLv1'){officeManagerId=employee.value;};};});setServiceManagers(serviceManagersArray);setOfficeManagers(officeManagersArray);setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{serviceManager:serviceManagerId,officeManager:officeManagerId}));},[getUsers]);var toggle=function toggle(e){setIsOpen(!isOpen);setErrors({});setWarnings({});if(!isOpen){setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{customer:'',serviceDate:'',serviceTime:'',serviceDescription:'',serviceType:[],dispatcher:'',crewMembers:[],prevJobNumber:'',notes:'',officeNotes:'',quote:''}));};};var toggleCheck=function toggleCheck(e){if(isOpenCheck){setWarnings({});};setIsOpenCheck(!isOpenCheck);};var handleChange=function handleChange(e){setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},_defineProperty({},e.target.name,e.target.value)));};var handleSelectChange=function handleSelectChange(e){setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},_defineProperty({},e.name,e.value)));};var handleMultiSelectChange=function handleMultiSelectChange(e){var values=[];var name=e[0].name;e.forEach(function(e){values.push(e.value);});console.log(values);setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},_defineProperty({},name,values)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var valid=warningCheck();if(valid){dispatch(addWorkOrder(workOrder));}else{toggleCheck();};};var warningCheck=function warningCheck(e){var warningsObject={};if(workOrder.prevJobNumber.trim()===''){warningsObject.prevJobNumber='Previous Job Number';};if(workOrder.notes.trim()===''){warningsObject.notes='Notes';};if(workOrder.officeNotes.trim()===''){warningsObject.officeNotes='Office Notes';};if(workOrder.quote.trim()===''){warningsObject.quote='Quote';};if(Object.keys(warningsObject).length===0){return true;}else{setWarnings(warningsObject);return false;};};var handleSubmitCheck=function handleSubmitCheck(e){e.preventDefault();setWarnings({});dispatch(addWorkOrder(workOrder));toggleCheck();};return/*#__PURE__*/React.createElement(\"div\",{className:hidden?\"add-work-order-div\":\"\"},hidden?/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:toggle},\"Create Work Order\"):null,/*#__PURE__*/React.createElement(Modal,{isOpen:isOpen,toggle:toggle},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggle},\"Create Work Order\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"customer\"},\"Customer\"),/*#__PURE__*/React.createElement(Select,{options:customers,name:\"customer\",onChange:handleSelectChange,className:errors.customer?'invalid':''}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.customer?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.customer)),/*#__PURE__*/React.createElement(\"div\",{className:\"datepicker-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"date\"},\"Date\"),/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"serviceDate\",id:\"serviceDate\",placeholder:\"date placeholder\",onChange:handleChange,invalid:errors.serviceDate?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceDate)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"time\"},\"Time\"),/*#__PURE__*/React.createElement(Input,{type:\"time\",name:\"serviceTime\",id:\"serviceTime\",placeholder:\"time placeholder\",onChange:handleChange,invalid:errors.serviceTime?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceTime))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceDescription\"},\"Service Description\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"serviceDescription\",id:\"serviceDescription\",onChange:handleChange,invalid:errors.serviceDescription?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceDescription)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceType\"},\"Service Type\"),/*#__PURE__*/React.createElement(Select,{isMulti:true,options:serviceTypes.map(function(type){return{label:type,value:type,name:'serviceType'};}),name:\"serviceType\",onChange:handleMultiSelectChange,className:errors.serviceType?'invalid':''}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.serviceType?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceType)),/*#__PURE__*/React.createElement(\"div\",{className:\"manager-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceManager\"},\"Service Manager\"),/*#__PURE__*/React.createElement(Select,{options:serviceManagers,defaultValue:serviceManagers[0],name:\"serviceManager\",onChange:handleSelectChange,className:errors.serviceManager?'invalid':''}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.serviceManager?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceManager)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"officeManager\"},\"Office Manager\"),/*#__PURE__*/React.createElement(Select,{options:officeManagers,defaultValue:officeManagers[0],name:\"officeManager\",onChange:handleSelectChange,className:errors.officeManager?'invalid':''}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.officeManager?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.officeManager))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"crewMembers\"},\"Crew Members\"),/*#__PURE__*/React.createElement(Select,{isMulti:true,options:employees,name:\"crewMembers\",onChange:handleMultiSelectChange,className:errors.crewMembers?'invalid':''}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.crewMembers?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.crewMembers)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"prevJobNumber\"},\"Previous Job Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"prevJobNumber\",id:\"prevJobNumber\",onChange:handleChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"notes\"},\"Notes\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"notes\",id:\"notes\",onChange:handleChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"officeNotes\"},\"Office Notes\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"officeNotes\",id:\"officeNotes\",onChange:handleChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"quote\"},\"Quote\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",name:\"file\",id:\"file\",onChange:handleChange})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",type:\"submit\",onClick:handleSubmit},\"Submit\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpenCheck,toggle:toggleCheck},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggleCheck},\"Warning\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"span\",null,\"The following fields were left blank:\"),/*#__PURE__*/React.createElement(\"ul\",null,warnings?Object.values(warnings).map(function(warning){return/*#__PURE__*/React.createElement(\"li\",null,warning);}):null),/*#__PURE__*/React.createElement(\"span\",null,\"Are you sure you want to continue?\")),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",type:\"submit\",onClick:handleSubmitCheck},\"YES\"),/*#__PURE__*/React.createElement(Button,{color:\"danger\",onClick:toggleCheck},\"NO\"))));};export default AddWorkOrderBtn;var serviceTypes=[\"Install\",\"Service\",\"Training\",\"Inspection\",\"Warranty\"];","map":{"version":3,"sources":["/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/src/components/Employees/AddWorkOrderBtn.js"],"names":["React","useState","useEffect","useRef","useDispatch","useSelector","Button","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","FormFeedback","Label","Input","Select","useLocation","addWorkOrder","AddWorkOrderBtn","customer","serviceDate","serviceTime","serviceDescription","serviceType","dispatcher","serviceManager","officeManager","crewMembers","prevJobNumber","notes","officeNotes","quote","workOrder","setWorkOrder","errors","setErrors","success","setSuccess","getErrors","state","addWorkOrderReducer","getSuccess","employees","setEmployees","serviceManagers","setServiceManagers","officeManagers","setOfficeManagers","employeesArray","serviceManagersArray","officeManagersArray","customers","setCustomers","customersArray","getUsers","getUsersReducer","users","hidden","setHidden","isOpen","setIsOpen","isOpenCheck","setIsOpenCheck","warnings","setWarnings","dispatch","location","changeHidden","pathname","isFirstRun","current","forEach","user","userType","push","label","firstName","lastName","value","userId","name","jobTitle","serviceManagerId","officeManagerId","employee","toggle","e","toggleCheck","handleChange","target","handleSelectChange","handleMultiSelectChange","values","console","log","handleSubmit","preventDefault","valid","warningCheck","warningsObject","trim","Object","keys","length","handleSubmitCheck","serviceTypes","map","type","warning"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n    Button,\n    Modal,\n    ModalHeader,\n    ModalBody,\n    ModalFooter,\n    Form,\n    FormGroup,\n    FormFeedback,\n    Label,\n    Input,\n} from 'reactstrap';\nimport Select from 'react-select';\nimport { useLocation } from 'react-router-dom';\nimport { addWorkOrder } from '../../actions/addWorkOrder';\n\nimport '../../styles/sidebar.scss';\n\nconst AddWorkOrderBtn = () => {\n    const [workOrder, setWorkOrder] = useState({\n        customer: '',\n        serviceDate: '',\n        serviceTime: '',\n        serviceDescription: '',\n        serviceType: [],\n        dispatcher: '',\n        serviceManager: '',\n        officeManager: '',\n        crewMembers: [],\n        prevJobNumber: '',\n        notes: '',\n        officeNotes: '',\n        quote: ''\n    });\n    const [errors, setErrors] = useState({});\n    const [success, setSuccess] = useState(false);\n    const getErrors = useSelector(state => state.addWorkOrderReducer.errors);\n    const getSuccess = useSelector(state => state.addWorkOrderReducer.success);\n    const [employees, setEmployees] = useState([]);\n    const [serviceManagers, setServiceManagers] = useState([]);\n    const [officeManagers, setOfficeManagers] = useState([]);\n    const employeesArray = [];\n    const serviceManagersArray = [];\n    const officeManagersArray = [];\n    const [customers, setCustomers] = useState([]);\n    const customersArray = [];\n    const getUsers = useSelector(state => state.getUsersReducer.users); \n    const [hidden, setHidden] = useState(false);\n    const [isOpen, setIsOpen] = useState(false);\n    const [isOpenCheck, setIsOpenCheck] = useState(false);\n    const [warnings, setWarnings] = useState({});\n    const dispatch = useDispatch();\n    const location = useLocation();\n    \n    useEffect(() => {\n        changeHidden(location);\n    }, [location]);\n    \n    const changeHidden = location => {\n        if(location.pathname === '/e_dashboard/workorders' || location.pathname === '/e_dashboard/workorders/') {\n            setHidden(true);\n        } else {\n            setHidden(false);\n        };\n    };\n\n    const isFirstRun = useRef(true);\n    useEffect(() => {\n        if(isFirstRun.current) {\n            isFirstRun.current = false;\n            return;\n        }\n        setErrors(getErrors);\n    }, [getErrors]);\n\n    useEffect(() => {\n        if(getSuccess === true) {\n            setSuccess(true);\n        };\n    }, [getSuccess]);\n\n    useEffect(() => {\n        if(success === true) {\n            setIsOpen(false);\n            setErrors({})\n            setSuccess(false);\n            setWorkOrder({\n                ...workOrder,\n                customer: '',\n                serviceDate: '',\n                serviceTime: '',\n                serviceDescription: '',\n                serviceType: [],\n                dispatch: '',\n                crewMembers: [],\n                prevJobNumber: '',\n                notes: '',\n                officeNotes: '',\n                quote: ''\n            });\n        };\n    }, [success]);\n\n    useEffect(() => {\n        if(getUsers.users) {\n            getUsers.users.forEach(user => {\n                if(user.userType === 'employee') {\n                    employeesArray.push(\n                        {\n                            label: `${user.firstName} ${user.lastName}`,\n                            value: user.userId,\n                            name: 'crewMembers',\n                            jobTitle: user.jobTitle\n                        }\n                    );\n                } else {\n                    customersArray.push(\n                        {\n                            label: `${user.firstName} ${user.lastName}`,\n                            value: user.userId,\n                            name: 'customer'\n                        }\n                    );\n                };\n            });\n        };\n\n        employeesArray.push({ label: 'General Contractor', value: 'General Contractor' });\n\n        setEmployees(employeesArray);\n        setCustomers(customersArray);\n\n        let serviceManagerId = '';\n        let officeManagerId = '';\n\n        employeesArray.forEach(employee => {\n            if(employee.jobTitle === 'Service Manager') {\n                employee.name = 'serviceManager';\n                serviceManagersArray.push(employee);\n                if(employee.value === 'uXwUIQNHljckMtq4AR57zMBExhd2') {\n                    serviceManagerId = employee.value;\n                };\n            } else if(employee.jobTitle === 'Office Manager') {\n                employee.name = 'officeManager';\n                officeManagersArray.push(employee);\n                if(employee.value === 'lsgIrnXWxsQ6VBqma96aNAIcSLv1') {\n                    officeManagerId = employee.value;\n                };\n            };\n        });\n\n        setServiceManagers(serviceManagersArray);\n        setOfficeManagers(officeManagersArray);\n\n        setWorkOrder({\n            ...workOrder,\n            serviceManager: serviceManagerId,\n            officeManager: officeManagerId\n        });\n    }, [getUsers]);\n\n    const toggle = e => {\n        setIsOpen(!isOpen);\n        setErrors({});\n        setWarnings({});\n\n        if(!isOpen) {\n            setWorkOrder({\n                ...workOrder,\n                customer: '',\n                serviceDate: '',\n                serviceTime: '',\n                serviceDescription: '',\n                serviceType: [],\n                dispatcher: '',\n                crewMembers: [],\n                prevJobNumber: '',\n                notes: '',\n                officeNotes: '',\n                quote: ''\n            });\n        };\n    };\n\n    const toggleCheck = e => {\n        if(isOpenCheck) {\n            setWarnings({});\n        };\n        setIsOpenCheck(!isOpenCheck);  \n    };\n\n    const handleChange = e => {\n        setWorkOrder({\n            ...workOrder,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    const handleSelectChange = e => {\n        setWorkOrder({\n            ...workOrder,\n            [e.name]: e.value\n        });\n    };\n\n    const handleMultiSelectChange = e => {\n        const values = [];\n        let name = e[0].name;\n\n        e.forEach(e => {\n            values.push(e.value);\n        })\n\n        console.log(values)\n        setWorkOrder({\n            ...workOrder,\n            [name]: values\n        })\n    };\n\n    const handleSubmit = e => {\n        e.preventDefault();\n\n        const valid = warningCheck();\n\n        if(valid) {\n            dispatch(addWorkOrder(workOrder));\n        } else {\n            toggleCheck();\n        };\n    };\n\n    const warningCheck = e => {\n        let warningsObject = {};\n\n        if(workOrder.prevJobNumber.trim() === '') {\n            warningsObject.prevJobNumber = 'Previous Job Number';\n        };\n        if(workOrder.notes.trim() === '') {\n            warningsObject.notes = 'Notes';\n        };\n        if(workOrder.officeNotes.trim() === '') {\n            warningsObject.officeNotes = 'Office Notes';\n        };\n        if(workOrder.quote.trim() === '') {\n            warningsObject.quote = 'Quote';\n        };\n\n        if(Object.keys(warningsObject).length === 0) {\n            return true;\n        } else {\n            setWarnings(warningsObject);\n            return false;\n        };\n    };\n\n    const handleSubmitCheck = e => {\n        e.preventDefault();\n        setWarnings({});\n        dispatch(addWorkOrder(workOrder));\n        toggleCheck();\n    };\n\n    return (\n        <div className={hidden ? \"add-work-order-div\": \"\"}>\n            {hidden ? <Button color=\"success\" onClick={toggle}>Create Work Order</Button> : null}\n            <Modal isOpen={isOpen} toggle={toggle}>\n                <ModalHeader toggle={toggle}>Create Work Order</ModalHeader>\n                <ModalBody>\n                    <Form onSubmit={handleSubmit}>\n                        <FormGroup>\n                            <Label for=\"customer\">Customer</Label>\n                            <Select options={customers} name=\"customer\" onChange={handleSelectChange} className={errors.customer ? 'invalid' : ''} />\n                            <Input type=\"hidden\" disabled invalid={errors.customer ? true : false} />\n                            <FormFeedback>{errors.customer}</FormFeedback>\n                        </FormGroup>\n                        <div className=\"datepicker-div\">\n                            <FormGroup>\n                                <Label for=\"date\">Date</Label>\n                                <Input type=\"date\" name=\"serviceDate\" id=\"serviceDate\" placeholder=\"date placeholder\" onChange={handleChange} invalid={errors.serviceDate ? true : false} />\n                                <FormFeedback>{errors.serviceDate}</FormFeedback>\n                            </FormGroup>\n                            <FormGroup>\n                                <Label for=\"time\">Time</Label>\n                                <Input type=\"time\" name=\"serviceTime\" id=\"serviceTime\" placeholder=\"time placeholder\" onChange={handleChange} invalid={errors.serviceTime ? true : false} />\n                                <FormFeedback>{errors.serviceTime}</FormFeedback>\n                            </FormGroup>\n                        </div>\n                        <FormGroup>\n                            <Label for=\"serviceDescription\">Service Description</Label>\n                            <Input type=\"textarea\" name=\"serviceDescription\" id=\"serviceDescription\" onChange={handleChange} invalid={errors.serviceDescription ? true : false} />\n                            <FormFeedback>{errors.serviceDescription}</FormFeedback>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"serviceType\">Service Type</Label>\n                            <Select isMulti options={serviceTypes.map(type => ( { label: type, value: type, name: 'serviceType' } ))} name=\"serviceType\" onChange={handleMultiSelectChange} className={errors.serviceType ? 'invalid' : ''} />\n                            <Input type=\"hidden\" disabled invalid={errors.serviceType ? true : false} />\n                            <FormFeedback>{errors.serviceType}</FormFeedback>\n                        </FormGroup>\n                        <div className=\"manager-div\">\n                            <FormGroup>\n                                <Label for=\"serviceManager\">Service Manager</Label>\n                                <Select options={serviceManagers} defaultValue={serviceManagers[0]} name=\"serviceManager\" onChange={handleSelectChange} className={errors.serviceManager ? 'invalid' : ''} />\n                                <Input type=\"hidden\" disabled invalid={errors.serviceManager ? true : false} />\n                                <FormFeedback>{errors.serviceManager}</FormFeedback>\n                            </FormGroup>\n                            <FormGroup>\n                                <Label for=\"officeManager\">Office Manager</Label>\n                                <Select options={officeManagers} defaultValue={officeManagers[0]} name=\"officeManager\" onChange={handleSelectChange} className={errors.officeManager ? 'invalid' : ''} />\n                                <Input type=\"hidden\" disabled invalid={errors.officeManager ? true : false} />\n                                <FormFeedback>{errors.officeManager}</FormFeedback>\n                            </FormGroup>\n                        </div>\n                        <FormGroup>\n                            <Label for=\"crewMembers\">Crew Members</Label>\n                            <Select isMulti options={employees} name=\"crewMembers\" onChange={handleMultiSelectChange} className={errors.crewMembers ? 'invalid': ''} />\n                            <Input type=\"hidden\" disabled invalid={errors.crewMembers ? true : false} />\n                            <FormFeedback>{errors.crewMembers}</FormFeedback>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"prevJobNumber\">Previous Job Number</Label>\n                            <Input type=\"text\" name=\"prevJobNumber\" id=\"prevJobNumber\" onChange={handleChange} />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"notes\">Notes</Label>\n                            <Input type=\"textarea\" name=\"notes\" id=\"notes\" onChange={handleChange} />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"officeNotes\">Office Notes</Label>\n                            <Input type=\"textarea\" name=\"officeNotes\" id=\"officeNotes\" onChange={handleChange} />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"quote\">Quote</Label>\n                            <Input type=\"file\" name=\"file\" id=\"file\" onChange={handleChange} />\n                        </FormGroup>\n                    </Form>\n                </ModalBody>\n                <ModalFooter>\n                    <Button color=\"success\" type=\"submit\" onClick={handleSubmit}>Submit</Button>\n                </ModalFooter>\n            </Modal>\n            <Modal isOpen={isOpenCheck} toggle={toggleCheck}>\n                <ModalHeader toggle={toggleCheck}>Warning</ModalHeader>\n                <ModalBody>\n                    <span>The following fields were left blank:</span>\n                    <ul>\n                        {warnings ? Object.values(warnings).map(warning => (\n                            <li>{warning}</li>\n                        )) : null}\n                    </ul>\n                    <span>Are you sure you want to continue?</span>\n                </ModalBody>\n                <ModalFooter>\n                    <Button color=\"success\" type=\"submit\" onClick={handleSubmitCheck}>YES</Button>\n                    <Button color=\"danger\" onClick={toggleCheck}>NO</Button>\n                </ModalFooter>\n            </Modal>\n        </div>\n    );\n};\n\nexport default AddWorkOrderBtn;\n\nconst serviceTypes = [\n    \"Install\",\n    \"Service\",\n    \"Training\",\n    \"Inspection\",\n    \"Warranty\"\n];"]},"metadata":{},"sourceType":"module"}