{"ast":null,"code":"import _toConsumableArray from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useHistory,useLocation}from\"react-router-dom\";import{Form,FormGroup,Label,Input,FormFeedback,Button,Modal,ModalHeader,ModalBody,ModalFooter,Table}from\"reactstrap\";import SignatureCanvas from\"react-signature-canvas\";import{useAuth}from\"../../contexts/AuthContext\";import{getWorkOrder}from\"../../actions/getWorkOrder\";import{getUsers}from\"../../actions/getUsers\";import{editWorkOrder}from\"../../actions/editWorkOrder\";import app from\"../../firebase\";import\"../../styles/workorder.scss\";var WorkOrder=function WorkOrder(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),workOrder=_useState2[0],setWorkOrder=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),customer=_useState4[0],setCustomer=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),mapsAddress=_useState6[0],setMapsAddress=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),employees=_useState8[0],setEmployees=_useState8[1];var getWorkOrderFromState=useSelector(function(state){return state.getWorkOrderReducer.workOrder;});var fetchUsers=useSelector(function(state){return state.getWorkOrderReducer.users;});var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),allEmployees=_useState10[0],setAllEmployees=_useState10[1];var fetchAllUsers=useSelector(function(state){return state.getUsersReducer.users;});var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isOpenServiceModal=_useState12[0],setIsOpenServiceModal=_useState12[1];var _useState13=useState({make:\"\",type:\"\",model:\"\",serialNumber:\"\",bayNumber:\"\",serviceDone:\"\",billableHours:null,partsUsed:[],partsNeeded:[],images:[]}),_useState14=_slicedToArray(_useState13,2),service=_useState14[0],setService=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),serviceErrors=_useState16[0],setServiceErrors=_useState16[1];var _useState17=useState({quantity:\"\",partDescription:\"\",partNumber:\"\",images:[]}),_useState18=_slicedToArray(_useState17,2),partUsed=_useState18[0],setPartUsed=_useState18[1];var _useState19=useState({}),_useState20=_slicedToArray(_useState19,2),partUsedErrors=_useState20[0],setPartUsedErrors=_useState20[1];var _useState21=useState({quantity:\"\",partDescription:\"\",partNumber:\"\",images:[]}),_useState22=_slicedToArray(_useState21,2),partNeeded=_useState22[0],setPartNeeded=_useState22[1];var _useState23=useState({}),_useState24=_slicedToArray(_useState23,2),partNeededErrors=_useState24[0],setPartNeededErrors=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isOpenPartUsed=_useState26[0],setIsOpenPartUsed=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isOpenPartNeeded=_useState28[0],setIsOpenPartNeeded=_useState28[1];var _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),hideOfficeNotes=_useState30[0],setHideOfficeNotes=_useState30[1];var _useState31=useState(true),_useState32=_slicedToArray(_useState31,2),hideSignaturePad=_useState32[0],setHideSignaturePad=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),hideEditButton=_useState34[0],setHideEditButton=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),hideSubmitForSignatureButton=_useState36[0],setHideSubmitForSignatureButton=_useState36[1];var _useState37=useState(true),_useState38=_slicedToArray(_useState37,2),hideSubmitForReviewButton=_useState38[0],setHideSubmitForReviewButton=_useState38[1];var _useState39=useState(true),_useState40=_slicedToArray(_useState39,2),hideSubmitForBillingButton=_useState40[0],setHideSubmitForBillingButton=_useState40[1];var sigPad={};var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),reviewFlag=_useState42[0],setReviewFlag=_useState42[1];// Flags when submitted for review\nvar _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),flag=_useState44[0],setFlag=_useState44[1];// Flags when submitted for billing or closed\nvar _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),editPunchOpen=_useState46[0],setEditPunchOpen=_useState46[1];var _useState47=useState(),_useState48=_slicedToArray(_useState47,2),currentPunch=_useState48[0],setCurrentPunch=_useState48[1];var _useState49=useState(),_useState50=_slicedToArray(_useState49,2),hours=_useState50[0],setHours=_useState50[1];var _useState51=useState(),_useState52=_slicedToArray(_useState51,2),minutes=_useState52[0],setMinutes=_useState52[1];var _useState53=useState(false),_useState54=_slicedToArray(_useState53,2),editServiceOpen=_useState54[0],setEditServiceOpen=_useState54[1];var _useState55=useState(),_useState56=_slicedToArray(_useState55,2),currentService=_useState56[0],setCurrentService=_useState56[1];var _useState57=useState(false),_useState58=_slicedToArray(_useState57,2),editPartUsed=_useState58[0],setEditPartUsed=_useState58[1];var _useState59=useState(),_useState60=_slicedToArray(_useState59,2),currentPartUsed=_useState60[0],setCurrentPartUsed=_useState60[1];var _useState61=useState(false),_useState62=_slicedToArray(_useState61,2),editPartNeeded=_useState62[0],setEditPartNeeded=_useState62[1];var _useState63=useState(),_useState64=_slicedToArray(_useState63,2),currentPartNeeded=_useState64[0],setCurrentPartNeeded=_useState64[1];var _useState65=useState(),_useState66=_slicedToArray(_useState65,2),inspectionForm=_useState66[0],setInspectionForm=_useState66[1];var _useState67=useState(),_useState68=_slicedToArray(_useState67,2),rmlTrainingForm=_useState68[0],setRmlTrainingForm=_useState68[1];var _useState69=useState(),_useState70=_slicedToArray(_useState69,2),skTrainingForm=_useState70[0],setSkTrainingForm=_useState70[1];var dispatch=useDispatch();var history=useHistory();var location=useLocation();useEffect(function(){var pathArray=location.pathname.split(\"/\");var jobId=pathArray[pathArray.length-1];dispatch(getWorkOrder(jobId));dispatch(getUsers());},[]);useEffect(function(){var storage=app.storage();var storageRef=storage.ref();storageRef.child(\"inspectionForms/inspection-fake.pdf\").getDownloadURL().then(function(url){setInspectionForm(url);}).catch(function(err){console.log(err);});},[]);useEffect(function(){var storage=app.storage();var storageRef=storage.ref();storageRef.child(\"trainingForms/rml-training-fake.pdf\").getDownloadURL().then(function(url){setRmlTrainingForm(url);}).catch(function(err){console.log(err);});},[]);useEffect(function(){var storage=app.storage();var storageRef=storage.ref();storageRef.child(\"trainingForms/sk-training-fake.pdf\").getDownloadURL().then(function(url){setSkTrainingForm(url);}).catch(function(err){console.log(err);});},[]);useEffect(function(){if(getWorkOrderFromState){setWorkOrder(getWorkOrderFromState);}},[getWorkOrderFromState]);useEffect(function(){var crewMembers=[];if(fetchUsers){fetchUsers.forEach(function(user){if(user.userType===\"customer\"){setCustomer(user);}else{crewMembers.push(user);}});setEmployees(crewMembers);}},[fetchUsers]);useEffect(function(){var array=[];if(fetchAllUsers.users){fetchAllUsers.users.forEach(function(user){if(user.userType===\"employee\"){array.push(user);}});}setAllEmployees(array);},[fetchAllUsers]);useEffect(function(){if(customer){addressConverter(customer);}},[customer]);useEffect(function(){if(reviewFlag){dispatch(editWorkOrder(workOrder));setHideOfficeNotes(false);setReviewFlag(false);history.push(\"/dashboard\");}},[reviewFlag]);useEffect(function(){if(flag){dispatch(editWorkOrder(workOrder));setHideOfficeNotes(false);}setFlag(false);},[flag]);var typeConverter=function typeConverter(types){if(types){if(types.length===1){return types;}else{return types.join(\", \");}}};var dateConverter=function dateConverter(date){if(date){var dateArray=date.split(\"-\");return\"\".concat(dateArray[1],\"/\").concat(dateArray[2],\"/\").concat(dateArray[0]);}};var timeConverter=function timeConverter(time){if(time){var timeArray=time.split(\":\");var hour=parseInt(timeArray[0]);var m;if(hour<=11){m=\"AM\";}else{m=\"PM\";}if(hour<=12){var newHour=hour.toString();timeArray[0]=newHour;}else{var _newHour=(hour-12).toString();timeArray[0]=_newHour;}return\"\".concat(timeArray[0],\":\").concat(timeArray[1],\" \").concat(m);}};var addressConverter=function addressConverter(customer){if(customer.shopAddress){var address=customer.shopAddress.address;var city=customer.shopAddress.city;var state=customer.shopAddress.state;var zipcode=customer.shopAddress.zipcode;var newAddress=\"\";var newCity=\"\";if(address){newAddress=address.split(\" \").join(\"+\");}if(city){newCity=city.split(\" \").join(\"+\");}var searchableAddress=\"\".concat(newAddress,\",+\").concat(newCity,\",+\").concat(state,\"+\").concat(zipcode);setMapsAddress(searchableAddress);}};var crewConverter=function crewConverter(members){var crewNames=[];if(members){members.forEach(function(member){crewNames.push(\"\".concat(member.firstName,\" \").concat(member.lastName));});if(crewNames.length===1){return crewNames;}else{return crewNames.join(\", \");}}};var crewMemberConverter=function crewMemberConverter(crewId){var name;allEmployees.forEach(function(employee){if(employee.userId===crewId){name=\"\".concat(employee.firstName,\" \").concat(employee.lastName);}});return name;};var clockIn=function clockIn(){var date=new Date();var time=date.getTime();var punches=workOrder.crewPunches;if(punches.length===0){punches.push({crewId:currentUser.uid,timeAccrued:0,clockIn:time});}else{punches.forEach(function(punch){if(punch.crewId===currentUser.uid){if(punch.clockIn===null){punch.clockIn=time;}else{alert(\"Already clocked in\");}}else{punches.push({crewId:currentUser.uid,timeAccrued:0,clockIn:time});}});}setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{crewPunches:punches}));};var clockOut=function clockOut(){var date=new Date();var time=date.getTime();var punches=workOrder.crewPunches;if(punches.length===0){alert(\"Please clock in first\");}else{punches.forEach(function(punch){if(punch.crewId===currentUser.uid){if(punch.clockIn===null){alert(\"Please clock in first\");}else{punch.timeAccrued+=time-punch.clockIn;punch.clockIn=null;}}});}setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{crewPunches:punches}));};var totalTime=function totalTime(crewPunches){var array=[];var reducer=function reducer(acc,curVal){return acc+curVal;};var total,answer;if(crewPunches.length===0){answer=jobTimeConverter(0);}else{crewPunches.forEach(function(punch){array.push(punch.timeAccrued);});total=array.reduce(reducer);answer=jobTimeConverter(total);}return answer;};var jobTimeConverter=function jobTimeConverter(timeAccrued){if(timeAccrued===0){return 0+\":\"+0+\":\"+0;}var seconds=Math.floor(timeAccrued/1000%60);var minutes=Math.floor(timeAccrued/(1000*60)%60);var hours=Math.floor(timeAccrued/(1000*60*60)%24);var trueHours=hours<10?\"0\"+hours:hours;var trueMinutes=minutes<10?\"0\"+minutes:minutes;var trueSeconds=seconds<10?\"0\"+seconds:seconds;return trueHours+\":\"+trueMinutes+\":\"+trueSeconds;};var handleChange=function handleChange(e){setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},_defineProperty({},e.target.name,e.target.value)));};var toggleServiceModal=function toggleServiceModal(){if(isOpenServiceModal){setServiceErrors({});}setIsOpenServiceModal(!isOpenServiceModal);};var handleChangeService=function handleChangeService(e){setService(_objectSpread(_objectSpread({},service),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmitService=function handleSubmitService(e){e.preventDefault();var errors={};if(service.make.trim()===\"\"){errors.make=\"Must not be empty\";}if(service.type.trim()===\"\"){errors.type=\"Must not be empty\";}if(service.model.trim()===\"\"){errors.model=\"Must not be empty\";}if(service.serialNumber.trim()===\"\"){errors.serialNumber=\"Must not be empty\";}if(service.serviceDone.trim()===\"\"){errors.serviceDone=\"Must not be empty\";}if(service.billableHours===null){errors.billableHours=\"Must not be empty\";}else if(service.billableHours.trim()===\"\"){errors.billableHours=\"Must not be empty\";}else if(service.billableHours%0.5!==0||service.billableHours<0){errors.billableHours=\"Billable hours must be priced to the next half hour\";}if(Object.keys(errors).length!==0){setServiceErrors(errors);}else{if(!workOrder.serviceDone){setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{serviceDone:[service]}));}else{setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{serviceDone:[].concat(_toConsumableArray(workOrder.serviceDone),[service])}));}setService({make:\"\",type:\"\",model:\"\",serialNumber:\"\",bayNumber:\"\",serviceDone:\"\",billableHours:null,partsUsed:[],partsNeeded:[],images:[]});setIsOpenServiceModal(false);setServiceErrors({});}};var togglePartUsed=function togglePartUsed(){setIsOpenPartUsed(!isOpenPartUsed);};var togglePartNeeded=function togglePartNeeded(){setIsOpenPartNeeded(!isOpenPartNeeded);};var handleChangePartUsed=function handleChangePartUsed(e){setPartUsed(_objectSpread(_objectSpread({},partUsed),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmitPartUsed=function handleSubmitPartUsed(e){e.preventDefault();var errors={};if(partUsed.quantity.trim()===\"\"){errors.quantity=\"Must not be empty\";}if(partUsed.partDescription.trim()===\"\"){errors.partDescription=\"Must not be empty\";}if(partUsed.partNumber.trim()===\"\"){errors.partNumber=\"Must not be empty\";}if(Object.keys(errors).length!==0){setPartUsedErrors(errors);}else{setService(_objectSpread(_objectSpread({},service),{},{partsUsed:[].concat(_toConsumableArray(service.partsUsed),[partUsed])}));setPartUsed({quantity:\"\",partDescription:\"\",partNumber:\"\",images:[]});setIsOpenPartUsed(false);setPartUsedErrors({});}};var handleChangePartNeeded=function handleChangePartNeeded(e){setPartNeeded(_objectSpread(_objectSpread({},partNeeded),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmitPartNeeded=function handleSubmitPartNeeded(e){e.preventDefault();var errors={};if(partNeeded.quantity.trim()===\"\"){errors.quantity=\"Must not be empty\";}if(partNeeded.partDescription.trim()===\"\"){errors.partDescription=\"Must not be empty\";}if(partNeeded.partNumber.trim()===\"\"){errors.partNumber=\"Must not be empty\";}if(Object.keys(errors).length!==0){setPartNeededErrors(errors);}else{setService(_objectSpread(_objectSpread({},service),{},{partsNeeded:[].concat(_toConsumableArray(service.partsNeeded),[partNeeded])}));setPartNeeded({quantity:\"\",partDescription:\"\",partNumber:\"\",images:[]});setIsOpenPartNeeded(false);setPartNeededErrors({});}};var goToInspection=function goToInspection(){window.open(inspectionForm);};var goToTraining=function goToTraining(){window.open(rmlTrainingForm);};var handleSubmitForSignature=function handleSubmitForSignature(e){e.preventDefault();setHideOfficeNotes(true);setHideSignaturePad(false);setHideEditButton(true);setHideSubmitForSignatureButton(true);setHideSubmitForReviewButton(false);};var clearSignaturePad=function clearSignaturePad(e){sigPad.clear();};var handleEditWorkOrder=function handleEditWorkOrder(e){e.preventDefault();dispatch(editWorkOrder(workOrder));};var handleSubmitForReview=function handleSubmitForReview(e){e.preventDefault();setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{signature:sigPad.getTrimmedCanvas().toDataURL(\"image/png\"),status:\"In Review\"}));setReviewFlag(true);};var handleSubmitForBilling=function handleSubmitForBilling(e){e.preventDefault();setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{status:\"In Billing\"}));setFlag(true);};var handleCloseWorkOrder=function handleCloseWorkOrder(e){e.preventDefault();setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{status:\"Closed\"}));setFlag(true);};var toggleEditPunch=function toggleEditPunch(e,punch){console.log(punch);if(workOrder.serviceManager===currentUser.uid){if(editPunchOpen){setCurrentPunch({crewId:\"\",clockIn:\"\",timeAccrued:null});}else{setCurrentPunch(punch);}setEditPunchOpen(!editPunchOpen);}};var handleHourChange=function handleHourChange(e){setHours(e.target.value);};var handleMinuteChange=function handleMinuteChange(e){setMinutes(e.target.value);};var submitTimeChange=function submitTimeChange(e){var h=hours;var m=minutes;var minToSec=m*60;var hourToSec=h*60*60;var totalSec=minToSec+hourToSec;var totalMilliSec=totalSec*1000;var crewPunches=workOrder.crewPunches;var array=[];crewPunches.forEach(function(punch){if(punch.crewId!==currentPunch.crewId){array.push(punch);}});array.push({crewId:currentPunch.crewId,clockIn:null,timeAccrued:totalMilliSec});setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{crewPunches:array}));toggleEditPunch(false);};var toggleEditService=function toggleEditService(e,service){if(workOrder.status===\"Open\"||workOrder.status===\"In Review\"&&workOrder.serviceManager===currentUser.uid){if(editServiceOpen){setCurrentService({make:\"\",type:\"\",model:\"\",serialNumber:\"\",bayNumber:\"\",serviceDone:\"\",billableHours:null,partsUsed:[],partsNeeded:[],images:[]});}else{setCurrentService(service);}setEditServiceOpen(!editServiceOpen);}console.log(service);};var handleServiceEditChange=function handleServiceEditChange(e){setCurrentService(_objectSpread(_objectSpread({},currentService),{},_defineProperty({},e.target.name,e.target.value)));};var submitServiceEditChange=function submitServiceEditChange(e){};return/*#__PURE__*/React.createElement(\"div\",{className:\"work-order-page\"},workOrder?/*#__PURE__*/React.createElement(\"div\",{className:\"work-order-page-content\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Work Order #\".concat(workOrder.workOrderId)),/*#__PURE__*/React.createElement(Form,{className:\"work-order-info\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"customerName\"},\"Customer Name\"),/*#__PURE__*/React.createElement(Input,{disabled:true,value:customer.businessName})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"customerAddress\"},\"Customer Address\"),/*#__PURE__*/React.createElement(\"a\",{href:\"http://maps.google.com/maps?q=\".concat(mapsAddress),target:\"_blank\",rel:\"noopener noreferrer\"},/*#__PURE__*/React.createElement(Input,{disabled:true,value:\"\".concat(customer.shopAddress?customer.shopAddress.address:null,\", \").concat(customer.shopAddress?customer.shopAddress.city:null,\", \").concat(customer.shopAddress?customer.shopAddress.state:null,\" \").concat(customer.shopAddress?customer.shopAddress.zipcode:null)}))),/*#__PURE__*/React.createElement(FormGroup,{className:\"type-input\"},/*#__PURE__*/React.createElement(Label,{for:\"serviceType\"},\"Service Type(s)\"),/*#__PURE__*/React.createElement(Input,{disabled:true,value:typeConverter(workOrder.serviceType)})),/*#__PURE__*/React.createElement(\"div\",{className:\"date-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceDate\"},\"Service Date\"),/*#__PURE__*/React.createElement(Input,{disabled:true,value:dateConverter(workOrder.serviceDate)})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceStartTime\"},\"Service Start Time\"),/*#__PURE__*/React.createElement(Input,{disabled:true,value:timeConverter(workOrder.serviceStartTime)}))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"crewMembers\"},\"Crew Members\"),/*#__PURE__*/React.createElement(Input,{disabled:true,value:crewConverter(employees)})),/*#__PURE__*/React.createElement(FormGroup,{className:\"description-input\"},/*#__PURE__*/React.createElement(Label,{for:\"serviceDescription\"},\"Service Description\"),/*#__PURE__*/React.createElement(Input,{disabled:true,type:\"textarea\",value:workOrder.serviceDescription})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"crewPunches\"},\"Crew Punches\"),workOrder.crewPunches&&workOrder.crewPunches.map(function(punch){return/*#__PURE__*/React.createElement(\"p\",{onClick:function onClick(e){return toggleEditPunch(e,punch);}},crewMemberConverter(punch.crewId),\":\",\" \",jobTimeConverter(punch.timeAccrued));}),workOrder.crewPunches?/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Total Time Accrued: \",totalTime(workOrder.crewPunches))):null),/*#__PURE__*/React.createElement(\"div\",{className:\"button-div\"},workOrder.status===\"Open\"||workOrder.serviceManager===currentUser.uid&&workOrder.status===\"In Review\"?/*#__PURE__*/React.createElement(\"div\",{className:\"secondary-button-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:clockIn},\"Clock In\")),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:clockOut},\"Clock Out\"))):null,workOrder.serviceDone?workOrder.serviceDone.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"service-table\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Services\"),/*#__PURE__*/React.createElement(Table,{hover:true,size:\"sm\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Service Type\"),/*#__PURE__*/React.createElement(\"th\",null,\"Service Description\"),/*#__PURE__*/React.createElement(\"th\",null,\"Parts Needed\")),/*#__PURE__*/React.createElement(\"tbody\",null,workOrder.serviceDone.map(function(service){return/*#__PURE__*/React.createElement(\"tr\",{onClick:function onClick(e){return toggleEditService(e,service);}},/*#__PURE__*/React.createElement(\"td\",{scope:\"row\"},service.type),/*#__PURE__*/React.createElement(\"td\",null,service.serviceDone),/*#__PURE__*/React.createElement(\"td\",null,service.partsNeeded.length>0?\"Y\":\"N\"));})))):null:null,workOrder.status===\"Open\"||workOrder.serviceManager===currentUser.uid&&workOrder.status===\"In Review\"?/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Button,{outline:true,color:\"success\",onClick:toggleServiceModal},\"Add Service\")):null,workOrder.status===\"Open\"||workOrder.serviceManager===currentUser.uid&&workOrder.status===\"In Review\"?/*#__PURE__*/React.createElement(\"div\",{className:\"secondary-button-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Button,{outline:true,color:\"info\",onClick:goToInspection},\"Add Inspection\")),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Button,{outline:true,color:\"warning\",className:\"training-button\",onClick:goToTraining},\"Add Training\"))):null),/*#__PURE__*/React.createElement(\"div\",{className:\"travel-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"travelTime\"},\"Travel Time (Roundtrip)\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"travelTime\",disabled:workOrder.status===\"Closed\"||workOrder.status===\"In Billing\"||workOrder.status===\"In Review\"&&workOrder.serviceManager!==currentUser.uid,value:workOrder.travelTime?workOrder.travelTime:null,onChange:handleChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"travelMileage\"},\"Travel Mileage (Roundtrip)\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"travelMileage\",disabled:workOrder.status===\"Closed\"||workOrder.status===\"In Billing\"||workOrder.status===\"In Review\"&&workOrder.serviceManager!==currentUser.uid,value:workOrder.travelMileage?workOrder.travelMileage:null,onChange:handleChange}))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"notes\"},\"Notes\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"notes\",disabled:workOrder.status===\"In Review\"||workOrder.status===\"In Billing\"||workOrder.status===\"Closed\",value:workOrder.notes?workOrder.notes:null,onChange:handleChange})),hideOfficeNotes?null:/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"officeNotes\"},\"Office Notes (NOT FOR CUSTOMER)\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"officeNotes\",disabled:workOrder.serviceManager!==currentUser.uid&&workOrder.status===\"In Review\"||workOrder.officeManager!==currentUser.uid&&workOrder.status===\"In Billing\",value:workOrder.officeNotes?workOrder.officeNotes:null,onChange:handleChange})),!workOrder.signature?hideSignaturePad?null:/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"div\",{className:\"signature-pad-header\"},/*#__PURE__*/React.createElement(Label,{for:\"signature\"},\"Signature\"),/*#__PURE__*/React.createElement(Button,{outline:true,color:\"danger\",className:\"clear-button\",onClick:clearSignaturePad},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-times\"}))),workOrder.status!==\"In Review\"?/*#__PURE__*/React.createElement(SignatureCanvas,{canvasProps:{className:\"signature-pad\"},ref:function ref(_ref){sigPad=_ref;}}):/*#__PURE__*/React.createElement(\"img\",{src:workOrder.signature,alt:\"Signature\"})):null,!workOrder.signature?hideEditButton?null:/*#__PURE__*/React.createElement(FormGroup,{className:\"submit-button edit-button\"},/*#__PURE__*/React.createElement(Button,{outline:true,color:\"success\",onClick:handleEditWorkOrder},\"Save Work Order\")):null,!workOrder.signature?hideSubmitForSignatureButton?null:/*#__PURE__*/React.createElement(FormGroup,{className:\"submit-button\"},/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:handleSubmitForSignature},\"Submit for Signature\")):null,!workOrder.signature?hideSubmitForReviewButton?null:/*#__PURE__*/React.createElement(FormGroup,{className:\"submit-button\"},/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:handleSubmitForReview},\"Submit for Review\")):null,workOrder.signature?/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"signature\"},\"Signature\"),/*#__PURE__*/React.createElement(\"img\",{src:workOrder.signature,alt:\"Signature\",className:\"signature-img\"})):null,workOrder.signature?workOrder.serviceManager===currentUser.uid?workOrder.status===\"In Review\"?/*#__PURE__*/React.createElement(FormGroup,{className:\"submit-button edit-button\"},/*#__PURE__*/React.createElement(Button,{outline:true,color:\"success\",onClick:handleEditWorkOrder},\"Save Work Order\")):null:null:null,workOrder.signature?workOrder.serviceManager===currentUser.uid?workOrder.status===\"In Review\"?/*#__PURE__*/React.createElement(FormGroup,{className:\"submit-button\"},/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:handleSubmitForBilling},\"Submit for Billing\")):null:null:null,workOrder.signature?workOrder.officeManager===currentUser.uid?workOrder.status===\"In Billing\"?/*#__PURE__*/React.createElement(FormGroup,{className:\"submit-button edit-button\"},/*#__PURE__*/React.createElement(Button,{outline:true,color:\"success\",onClick:handleEditWorkOrder},\"Save Work Order\")):null:null:null,workOrder.signature?workOrder.officeManager===currentUser.uid?workOrder.status===\"In Billing\"?/*#__PURE__*/React.createElement(FormGroup,{className:\"submit-button\"},/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:handleCloseWorkOrder},\"Close Work Order\")):null:null:null)):null,/*#__PURE__*/React.createElement(Modal,{isOpen:isOpenServiceModal,toggle:toggleServiceModal},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggleServiceModal},\"Add Service\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmitService},/*#__PURE__*/React.createElement(\"div\",{className:\"equipment-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"make\"},\"Make\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"make\",onChange:handleChangeService,invalid:serviceErrors.make?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,serviceErrors.make)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"type\"},\"Type\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"type\",onChange:handleChangeService,invalid:serviceErrors.type?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,serviceErrors.type))),/*#__PURE__*/React.createElement(\"div\",{className:\"equipment-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"model\"},\"Model\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"model\",onChange:handleChangeService,invalid:serviceErrors.model?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,serviceErrors.model)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serialNumber\"},\"Serial Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"serialNumber\",onChange:handleChangeService,invalid:serviceErrors.serialNumber?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,serviceErrors.serialNumber))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"bayNumber\"},\"Bay Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"bayNumber\",onChange:handleChangeService})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceDone\"},\"What work was done?\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"serviceDone\",onChange:handleChangeService,invalid:serviceErrors.serviceDone?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,serviceErrors.serviceDone)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"billableHours\"},\"Billable Hours\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",min:\"0\",max:\"100\",step:\"0.5\",name:\"billableHours\",onChange:handleChangeService,invalid:serviceErrors.billableHours?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,serviceErrors.billableHours)),service.partsUsed.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"part-div\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Parts Used\"),/*#__PURE__*/React.createElement(Table,{hover:true,size:\"sm\",className:\"part-table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Quantity\"),/*#__PURE__*/React.createElement(\"th\",null,\"Description\"),/*#__PURE__*/React.createElement(\"th\",null,\"Part Number\"),/*#__PURE__*/React.createElement(\"th\",null,\"Images\")),/*#__PURE__*/React.createElement(\"tbody\",null,service.partsUsed.map(function(part){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{scope:\"row\"},part.quantity),/*#__PURE__*/React.createElement(\"td\",null,part.partDescription),/*#__PURE__*/React.createElement(\"td\",null,part.partNumber),/*#__PURE__*/React.createElement(\"td\",null,part.images));})))):null,service.partsNeeded.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"part-div\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Parts Needed\"),/*#__PURE__*/React.createElement(Table,{hover:true,size:\"sm\",className:\"part-table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Quantity\"),/*#__PURE__*/React.createElement(\"th\",null,\"Description\"),/*#__PURE__*/React.createElement(\"th\",null,\"Part Number\"),/*#__PURE__*/React.createElement(\"th\",null,\"Images\")),/*#__PURE__*/React.createElement(\"tbody\",null,service.partsNeeded.map(function(part){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{scope:\"row\"},part.quantity),/*#__PURE__*/React.createElement(\"td\",null,part.partDescription),/*#__PURE__*/React.createElement(\"td\",null,part.partNumber),/*#__PURE__*/React.createElement(\"td\",null,part.images));})))):null,/*#__PURE__*/React.createElement(FormGroup,{className:\"parts-group\"},/*#__PURE__*/React.createElement(Button,{outline:true,color:\"success\",onClick:togglePartUsed},\"Add Part Used\"),/*#__PURE__*/React.createElement(Button,{outline:true,color:\"danger\",onClick:togglePartNeeded},\"Add Part Needed\")),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Picture(s)\"),/*#__PURE__*/React.createElement(Input,{multiple:true,type:\"file\",accept:\"image/*\",capture:\"environment\",name:\"images\",onChange:handleChangeService})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:handleSubmitService},\"Submit\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpenPartUsed,toggle:togglePartUsed},/*#__PURE__*/React.createElement(ModalHeader,{toggle:togglePartUsed},\"Add Part Used\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmitPartUsed},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Quantity\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"quantity\",onChange:handleChangePartUsed,invalid:partUsedErrors.quantity?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,partUsedErrors.quantity)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Part Description\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"partDescription\",onChange:handleChangePartUsed,invalid:partUsedErrors.partDescription?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,partUsedErrors.partDescription)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Part Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"partNumber\",onChange:handleChangePartUsed,invalid:partUsedErrors.partNumber?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,partUsedErrors.partNumber)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Picture(s)\"),/*#__PURE__*/React.createElement(Input,{multiple:true,type:\"file\",accept:\"image/*\",capture:\"environment\",name:\"images\",onChange:handleChangePartUsed})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:handleSubmitPartUsed},\"Submit\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpenPartNeeded,toggle:togglePartNeeded},/*#__PURE__*/React.createElement(ModalHeader,{toggle:togglePartNeeded},\"Add Part Needed\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmitPartNeeded},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Quantity\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"quantity\",onChange:handleChangePartNeeded,invalid:partNeededErrors.quantity?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,partNeededErrors.quantity)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Part Description\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"partDescription\",onChange:handleChangePartNeeded,invalid:partNeededErrors.partDescription?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,partNeededErrors.partDescription)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Part Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"partNumber\",onChange:handleChangePartNeeded,invalid:partNeededErrors.partNumber?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,partNeededErrors.partNumber)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Picture(s)\"),/*#__PURE__*/React.createElement(Input,{multiple:true,type:\"file\",accept:\"image/*\",capture:\"environment\",name:\"images\",onChange:handleChangePartNeeded})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:handleSubmitPartNeeded},\"Submit\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:editPunchOpen,toggle:toggleEditPunch},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggleEditPunch},\"Edit Time\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:submitTimeChange},/*#__PURE__*/React.createElement(Label,null,\"Edit to correct total time accrued on job\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Hours\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"hours\",min:\"0\",max:\"100\",step:\"1\",onChange:handleHourChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Minutes\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"minutes\",min:\"0\",max:\"59\",step:\"1\",onChange:handleMinuteChange}))))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:submitTimeChange},\"Save\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:editServiceOpen,toggle:toggleEditService},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggleEditService},\"Edit Service\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:submitServiceEditChange},/*#__PURE__*/React.createElement(\"div\",{className:\"equipment-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"make\"},\"Make\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"make\",value:currentService&&currentService.make,onChange:handleServiceEditChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"type\"},\"Type\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"type\",value:currentService&&currentService.type,onChange:handleServiceEditChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"equipment-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"model\"},\"Model\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"model\",value:currentService&&currentService.model,onChange:handleServiceEditChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serialNumber\"},\"Serial Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"serialNumber\",value:currentService&&currentService.serialNumber,onChange:handleServiceEditChange}))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"bayNumber\"},\"Bay Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"bayNumber\",value:currentService&&currentService.bayNumber,onChange:handleServiceEditChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceDone\"},\"What work was done?\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"serviceDone\",value:currentService&&currentService.serviceDone,onChange:handleServiceEditChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"billableHours\"},\"Billable Hours\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",min:\"0\",max:\"100\",step:\"0.5\",name:\"billableHours\",value:currentService&&currentService.billableHours,onChange:handleServiceEditChange})),service.partsUsed.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"part-div\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Parts Used\"),/*#__PURE__*/React.createElement(Table,{hover:true,size:\"sm\",className:\"part-table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Quantity\"),/*#__PURE__*/React.createElement(\"th\",null,\"Description\"),/*#__PURE__*/React.createElement(\"th\",null,\"Part Number\"),/*#__PURE__*/React.createElement(\"th\",null,\"Images\")),/*#__PURE__*/React.createElement(\"tbody\",null,service.partsUsed.map(function(part){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{scope:\"row\"},part.quantity),/*#__PURE__*/React.createElement(\"td\",null,part.partDescription),/*#__PURE__*/React.createElement(\"td\",null,part.partNumber),/*#__PURE__*/React.createElement(\"td\",null,part.images));})))):null,service.partsNeeded.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"part-div\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Parts Needed\"),/*#__PURE__*/React.createElement(Table,{hover:true,size:\"sm\",className:\"part-table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Quantity\"),/*#__PURE__*/React.createElement(\"th\",null,\"Description\"),/*#__PURE__*/React.createElement(\"th\",null,\"Part Number\"),/*#__PURE__*/React.createElement(\"th\",null,\"Images\")),/*#__PURE__*/React.createElement(\"tbody\",null,service.partsNeeded.map(function(part){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{scope:\"row\"},part.quantity),/*#__PURE__*/React.createElement(\"td\",null,part.partDescription),/*#__PURE__*/React.createElement(\"td\",null,part.partNumber),/*#__PURE__*/React.createElement(\"td\",null,part.images));})))):null,/*#__PURE__*/React.createElement(FormGroup,{className:\"parts-group\"},/*#__PURE__*/React.createElement(Button,{outline:true,color:\"success\",onClick:togglePartUsed},\"Add Part Used\"),/*#__PURE__*/React.createElement(Button,{outline:true,color:\"danger\",onClick:togglePartNeeded},\"Add Part Needed\")),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Picture(s)\"),/*#__PURE__*/React.createElement(Input,{multiple:true,type:\"file\",accept:\"image/*\",capture:\"environment\",name:\"images\",value:currentService&&currentService.images,onChange:handleServiceEditChange})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:submitServiceEditChange},\"Save\"))));};export default WorkOrder;","map":{"version":3,"sources":["/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/src/components/content-components/WorkOrder.js"],"names":["React","useState","useEffect","useSelector","useDispatch","useHistory","useLocation","Form","FormGroup","Label","Input","FormFeedback","Button","Modal","ModalHeader","ModalBody","ModalFooter","Table","SignatureCanvas","useAuth","getWorkOrder","getUsers","editWorkOrder","app","WorkOrder","workOrder","setWorkOrder","customer","setCustomer","mapsAddress","setMapsAddress","employees","setEmployees","getWorkOrderFromState","state","getWorkOrderReducer","fetchUsers","users","allEmployees","setAllEmployees","fetchAllUsers","getUsersReducer","isOpenServiceModal","setIsOpenServiceModal","make","type","model","serialNumber","bayNumber","serviceDone","billableHours","partsUsed","partsNeeded","images","service","setService","serviceErrors","setServiceErrors","quantity","partDescription","partNumber","partUsed","setPartUsed","partUsedErrors","setPartUsedErrors","partNeeded","setPartNeeded","partNeededErrors","setPartNeededErrors","isOpenPartUsed","setIsOpenPartUsed","isOpenPartNeeded","setIsOpenPartNeeded","hideOfficeNotes","setHideOfficeNotes","hideSignaturePad","setHideSignaturePad","hideEditButton","setHideEditButton","hideSubmitForSignatureButton","setHideSubmitForSignatureButton","hideSubmitForReviewButton","setHideSubmitForReviewButton","hideSubmitForBillingButton","setHideSubmitForBillingButton","sigPad","reviewFlag","setReviewFlag","flag","setFlag","currentUser","editPunchOpen","setEditPunchOpen","currentPunch","setCurrentPunch","hours","setHours","minutes","setMinutes","editServiceOpen","setEditServiceOpen","currentService","setCurrentService","editPartUsed","setEditPartUsed","currentPartUsed","setCurrentPartUsed","editPartNeeded","setEditPartNeeded","currentPartNeeded","setCurrentPartNeeded","inspectionForm","setInspectionForm","rmlTrainingForm","setRmlTrainingForm","skTrainingForm","setSkTrainingForm","dispatch","history","location","pathArray","pathname","split","jobId","length","storage","storageRef","ref","child","getDownloadURL","then","url","catch","err","console","log","crewMembers","forEach","user","userType","push","array","addressConverter","typeConverter","types","join","dateConverter","date","dateArray","timeConverter","time","timeArray","hour","parseInt","m","newHour","toString","shopAddress","address","city","zipcode","newAddress","newCity","searchableAddress","crewConverter","members","crewNames","member","firstName","lastName","crewMemberConverter","crewId","name","employee","userId","clockIn","Date","getTime","punches","crewPunches","uid","timeAccrued","punch","alert","clockOut","totalTime","reducer","acc","curVal","total","answer","jobTimeConverter","reduce","seconds","Math","floor","trueHours","trueMinutes","trueSeconds","handleChange","e","target","value","toggleServiceModal","handleChangeService","handleSubmitService","preventDefault","errors","trim","Object","keys","togglePartUsed","togglePartNeeded","handleChangePartUsed","handleSubmitPartUsed","handleChangePartNeeded","handleSubmitPartNeeded","goToInspection","window","open","goToTraining","handleSubmitForSignature","clearSignaturePad","clear","handleEditWorkOrder","handleSubmitForReview","signature","getTrimmedCanvas","toDataURL","status","handleSubmitForBilling","handleCloseWorkOrder","toggleEditPunch","serviceManager","handleHourChange","handleMinuteChange","submitTimeChange","h","minToSec","hourToSec","totalSec","totalMilliSec","toggleEditService","handleServiceEditChange","submitServiceEditChange","workOrderId","businessName","serviceType","serviceDate","serviceStartTime","serviceDescription","map","travelTime","travelMileage","notes","officeManager","officeNotes","className","part"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport {\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  FormFeedback,\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Table,\n} from \"reactstrap\";\nimport SignatureCanvas from \"react-signature-canvas\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { getWorkOrder } from \"../../actions/getWorkOrder\";\nimport { getUsers } from \"../../actions/getUsers\";\nimport { editWorkOrder } from \"../../actions/editWorkOrder\";\nimport app from \"../../firebase\";\n\nimport \"../../styles/workorder.scss\";\n\nconst WorkOrder = () => {\n  const [workOrder, setWorkOrder] = useState({});\n  const [customer, setCustomer] = useState({});\n  const [mapsAddress, setMapsAddress] = useState(\"\");\n  const [employees, setEmployees] = useState([]);\n  const getWorkOrderFromState = useSelector(\n    (state) => state.getWorkOrderReducer.workOrder\n  );\n  const fetchUsers = useSelector((state) => state.getWorkOrderReducer.users);\n  const [allEmployees, setAllEmployees] = useState();\n  const fetchAllUsers = useSelector((state) => state.getUsersReducer.users);\n  const [isOpenServiceModal, setIsOpenServiceModal] = useState(false);\n  const [service, setService] = useState({\n    make: \"\",\n    type: \"\",\n    model: \"\",\n    serialNumber: \"\",\n    bayNumber: \"\",\n    serviceDone: \"\",\n    billableHours: null,\n    partsUsed: [],\n    partsNeeded: [],\n    images: [],\n  });\n  const [serviceErrors, setServiceErrors] = useState({});\n  const [partUsed, setPartUsed] = useState({\n    quantity: \"\",\n    partDescription: \"\",\n    partNumber: \"\",\n    images: [],\n  });\n  const [partUsedErrors, setPartUsedErrors] = useState({});\n  const [partNeeded, setPartNeeded] = useState({\n    quantity: \"\",\n    partDescription: \"\",\n    partNumber: \"\",\n    images: [],\n  });\n  const [partNeededErrors, setPartNeededErrors] = useState({});\n  const [isOpenPartUsed, setIsOpenPartUsed] = useState(false);\n  const [isOpenPartNeeded, setIsOpenPartNeeded] = useState(false);\n  const [hideOfficeNotes, setHideOfficeNotes] = useState(false);\n  const [hideSignaturePad, setHideSignaturePad] = useState(true);\n  const [hideEditButton, setHideEditButton] = useState(false);\n  const [\n    hideSubmitForSignatureButton,\n    setHideSubmitForSignatureButton,\n  ] = useState(false);\n  const [hideSubmitForReviewButton, setHideSubmitForReviewButton] = useState(\n    true\n  );\n  const [hideSubmitForBillingButton, setHideSubmitForBillingButton] = useState(\n    true\n  );\n  let sigPad = {};\n  const [reviewFlag, setReviewFlag] = useState(false); // Flags when submitted for review\n  const [flag, setFlag] = useState(false); // Flags when submitted for billing or closed\n  const { currentUser } = useAuth();\n  const [editPunchOpen, setEditPunchOpen] = useState(false);\n  const [currentPunch, setCurrentPunch] = useState();\n  const [hours, setHours] = useState();\n  const [minutes, setMinutes] = useState();\n  const [editServiceOpen, setEditServiceOpen] = useState(false);\n  const [currentService, setCurrentService] = useState();\n  const [editPartUsed, setEditPartUsed] = useState(false);\n  const [currentPartUsed, setCurrentPartUsed] = useState();\n  const [editPartNeeded, setEditPartNeeded] = useState(false);\n  const [currentPartNeeded, setCurrentPartNeeded] = useState();\n  const [inspectionForm, setInspectionForm] = useState();\n  const [rmlTrainingForm, setRmlTrainingForm] = useState();\n  const [skTrainingForm, setSkTrainingForm] = useState();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n\n  useEffect(() => {\n    const pathArray = location.pathname.split(\"/\");\n    const jobId = pathArray[pathArray.length - 1];\n    dispatch(getWorkOrder(jobId));\n    dispatch(getUsers());\n  }, []);\n\n  useEffect(() => {\n    const storage = app.storage();\n    const storageRef = storage.ref();\n    storageRef\n      .child(\"inspectionForms/inspection-fake.pdf\")\n      .getDownloadURL()\n      .then((url) => {\n        setInspectionForm(url);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    const storage = app.storage();\n    const storageRef = storage.ref();\n    storageRef\n      .child(\"trainingForms/rml-training-fake.pdf\")\n      .getDownloadURL()\n      .then((url) => {\n        setRmlTrainingForm(url);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    const storage = app.storage();\n    const storageRef = storage.ref();\n    storageRef\n      .child(\"trainingForms/sk-training-fake.pdf\")\n      .getDownloadURL()\n      .then((url) => {\n        setSkTrainingForm(url);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (getWorkOrderFromState) {\n      setWorkOrder(getWorkOrderFromState);\n    }\n  }, [getWorkOrderFromState]);\n\n  useEffect(() => {\n    let crewMembers = [];\n\n    if (fetchUsers) {\n      fetchUsers.forEach((user) => {\n        if (user.userType === \"customer\") {\n          setCustomer(user);\n        } else {\n          crewMembers.push(user);\n        }\n      });\n      setEmployees(crewMembers);\n    }\n  }, [fetchUsers]);\n\n  useEffect(() => {\n    const array = [];\n\n    if (fetchAllUsers.users) {\n      fetchAllUsers.users.forEach((user) => {\n        if (user.userType === \"employee\") {\n          array.push(user);\n        }\n      });\n    }\n    setAllEmployees(array);\n  }, [fetchAllUsers]);\n\n  useEffect(() => {\n    if (customer) {\n      addressConverter(customer);\n    }\n  }, [customer]);\n\n  useEffect(() => {\n    if (reviewFlag) {\n      dispatch(editWorkOrder(workOrder));\n      setHideOfficeNotes(false);\n      setReviewFlag(false);\n      history.push(\"/dashboard\");\n    }\n  }, [reviewFlag]);\n\n  useEffect(() => {\n    if (flag) {\n      dispatch(editWorkOrder(workOrder));\n      setHideOfficeNotes(false);\n    }\n    setFlag(false);\n  }, [flag]);\n\n  const typeConverter = (types) => {\n    if (types) {\n      if (types.length === 1) {\n        return types;\n      } else {\n        return types.join(\", \");\n      }\n    }\n  };\n\n  const dateConverter = (date) => {\n    if (date) {\n      const dateArray = date.split(\"-\");\n      return `${dateArray[1]}/${dateArray[2]}/${dateArray[0]}`;\n    }\n  };\n\n  const timeConverter = (time) => {\n    if (time) {\n      const timeArray = time.split(\":\");\n      const hour = parseInt(timeArray[0]);\n      let m;\n\n      if (hour <= 11) {\n        m = \"AM\";\n      } else {\n        m = \"PM\";\n      }\n\n      if (hour <= 12) {\n        const newHour = hour.toString();\n        timeArray[0] = newHour;\n      } else {\n        const newHour = (hour - 12).toString();\n        timeArray[0] = newHour;\n      }\n\n      return `${timeArray[0]}:${timeArray[1]} ${m}`;\n    }\n  };\n\n  const addressConverter = (customer) => {\n    if (customer.shopAddress) {\n      const address = customer.shopAddress.address;\n      const city = customer.shopAddress.city;\n      const state = customer.shopAddress.state;\n      const zipcode = customer.shopAddress.zipcode;\n\n      let newAddress = \"\";\n      let newCity = \"\";\n\n      if (address) {\n        newAddress = address.split(\" \").join(\"+\");\n      }\n      if (city) {\n        newCity = city.split(\" \").join(\"+\");\n      }\n\n      const searchableAddress = `${newAddress},+${newCity},+${state}+${zipcode}`;\n      setMapsAddress(searchableAddress);\n    }\n  };\n\n  const crewConverter = (members) => {\n    let crewNames = [];\n\n    if (members) {\n      members.forEach((member) => {\n        crewNames.push(`${member.firstName} ${member.lastName}`);\n      });\n\n      if (crewNames.length === 1) {\n        return crewNames;\n      } else {\n        return crewNames.join(\", \");\n      }\n    }\n  };\n\n  const crewMemberConverter = (crewId) => {\n    var name;\n\n    allEmployees.forEach((employee) => {\n      if (employee.userId === crewId) {\n        name = `${employee.firstName} ${employee.lastName}`;\n      }\n    });\n    return name;\n  };\n\n  const clockIn = () => {\n    const date = new Date();\n    const time = date.getTime();\n\n    const punches = workOrder.crewPunches;\n\n    if (punches.length === 0) {\n      punches.push({\n        crewId: currentUser.uid,\n        timeAccrued: 0,\n        clockIn: time,\n      });\n    } else {\n      punches.forEach((punch) => {\n        if (punch.crewId === currentUser.uid) {\n          if (punch.clockIn === null) {\n            punch.clockIn = time;\n          } else {\n            alert(\"Already clocked in\");\n          }\n        } else {\n          punches.push({\n            crewId: currentUser.uid,\n            timeAccrued: 0,\n            clockIn: time,\n          });\n        }\n      });\n    }\n\n    setWorkOrder({\n      ...workOrder,\n      crewPunches: punches,\n    });\n  };\n\n  const clockOut = () => {\n    const date = new Date();\n    const time = date.getTime();\n\n    const punches = workOrder.crewPunches;\n\n    if (punches.length === 0) {\n      alert(\"Please clock in first\");\n    } else {\n      punches.forEach((punch) => {\n        if (punch.crewId === currentUser.uid) {\n          if (punch.clockIn === null) {\n            alert(\"Please clock in first\");\n          } else {\n            punch.timeAccrued += time - punch.clockIn;\n            punch.clockIn = null;\n          }\n        }\n      });\n    }\n\n    setWorkOrder({\n      ...workOrder,\n      crewPunches: punches,\n    });\n  };\n\n  const totalTime = (crewPunches) => {\n    const array = [];\n    const reducer = (acc, curVal) => acc + curVal;\n    var total, answer;\n\n    if (crewPunches.length === 0) {\n      answer = jobTimeConverter(0);\n    } else {\n      crewPunches.forEach((punch) => {\n        array.push(punch.timeAccrued);\n      });\n\n      total = array.reduce(reducer);\n      answer = jobTimeConverter(total);\n    }\n    return answer;\n  };\n\n  const jobTimeConverter = (timeAccrued) => {\n    if (timeAccrued === 0) {\n      return 0 + \":\" + 0 + \":\" + 0;\n    }\n\n    const seconds = Math.floor((timeAccrued / 1000) % 60);\n    const minutes = Math.floor((timeAccrued / (1000 * 60)) % 60);\n    const hours = Math.floor((timeAccrued / (1000 * 60 * 60)) % 24);\n\n    const trueHours = hours < 10 ? \"0\" + hours : hours;\n    const trueMinutes = minutes < 10 ? \"0\" + minutes : minutes;\n    const trueSeconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n    return trueHours + \":\" + trueMinutes + \":\" + trueSeconds;\n  };\n\n  const handleChange = (e) => {\n    setWorkOrder({\n      ...workOrder,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const toggleServiceModal = () => {\n    if (isOpenServiceModal) {\n      setServiceErrors({});\n    }\n    setIsOpenServiceModal(!isOpenServiceModal);\n  };\n\n  const handleChangeService = (e) => {\n    setService({\n      ...service,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmitService = (e) => {\n    e.preventDefault();\n    const errors = {};\n\n    if (service.make.trim() === \"\") {\n      errors.make = \"Must not be empty\";\n    }\n    if (service.type.trim() === \"\") {\n      errors.type = \"Must not be empty\";\n    }\n    if (service.model.trim() === \"\") {\n      errors.model = \"Must not be empty\";\n    }\n    if (service.serialNumber.trim() === \"\") {\n      errors.serialNumber = \"Must not be empty\";\n    }\n    if (service.serviceDone.trim() === \"\") {\n      errors.serviceDone = \"Must not be empty\";\n    }\n    if (service.billableHours === null) {\n      errors.billableHours = \"Must not be empty\";\n    } else if (service.billableHours.trim() === \"\") {\n      errors.billableHours = \"Must not be empty\";\n    } else if (service.billableHours % 0.5 !== 0 || service.billableHours < 0) {\n      errors.billableHours =\n        \"Billable hours must be priced to the next half hour\";\n    }\n\n    if (Object.keys(errors).length !== 0) {\n      setServiceErrors(errors);\n    } else {\n      if (!workOrder.serviceDone) {\n        setWorkOrder({\n          ...workOrder,\n          serviceDone: [service],\n        });\n      } else {\n        setWorkOrder({\n          ...workOrder,\n          serviceDone: [...workOrder.serviceDone, service],\n        });\n      }\n\n      setService({\n        make: \"\",\n        type: \"\",\n        model: \"\",\n        serialNumber: \"\",\n        bayNumber: \"\",\n        serviceDone: \"\",\n        billableHours: null,\n        partsUsed: [],\n        partsNeeded: [],\n        images: [],\n      });\n\n      setIsOpenServiceModal(false);\n      setServiceErrors({});\n    }\n  };\n\n  const togglePartUsed = () => {\n    setIsOpenPartUsed(!isOpenPartUsed);\n  };\n\n  const togglePartNeeded = () => {\n    setIsOpenPartNeeded(!isOpenPartNeeded);\n  };\n\n  const handleChangePartUsed = (e) => {\n    setPartUsed({\n      ...partUsed,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmitPartUsed = (e) => {\n    e.preventDefault();\n    const errors = {};\n\n    if (partUsed.quantity.trim() === \"\") {\n      errors.quantity = \"Must not be empty\";\n    }\n    if (partUsed.partDescription.trim() === \"\") {\n      errors.partDescription = \"Must not be empty\";\n    }\n    if (partUsed.partNumber.trim() === \"\") {\n      errors.partNumber = \"Must not be empty\";\n    }\n\n    if (Object.keys(errors).length !== 0) {\n      setPartUsedErrors(errors);\n    } else {\n      setService({\n        ...service,\n        partsUsed: [...service.partsUsed, partUsed],\n      });\n\n      setPartUsed({\n        quantity: \"\",\n        partDescription: \"\",\n        partNumber: \"\",\n        images: [],\n      });\n\n      setIsOpenPartUsed(false);\n      setPartUsedErrors({});\n    }\n  };\n\n  const handleChangePartNeeded = (e) => {\n    setPartNeeded({\n      ...partNeeded,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSubmitPartNeeded = (e) => {\n    e.preventDefault();\n    const errors = {};\n\n    if (partNeeded.quantity.trim() === \"\") {\n      errors.quantity = \"Must not be empty\";\n    }\n    if (partNeeded.partDescription.trim() === \"\") {\n      errors.partDescription = \"Must not be empty\";\n    }\n    if (partNeeded.partNumber.trim() === \"\") {\n      errors.partNumber = \"Must not be empty\";\n    }\n\n    if (Object.keys(errors).length !== 0) {\n      setPartNeededErrors(errors);\n    } else {\n      setService({\n        ...service,\n        partsNeeded: [...service.partsNeeded, partNeeded],\n      });\n\n      setPartNeeded({\n        quantity: \"\",\n        partDescription: \"\",\n        partNumber: \"\",\n        images: [],\n      });\n\n      setIsOpenPartNeeded(false);\n      setPartNeededErrors({});\n    }\n  };\n\n  const goToInspection = () => {\n    window.open(inspectionForm);\n  };\n\n  const goToTraining = () => {\n    window.open(rmlTrainingForm);\n  };\n\n  const handleSubmitForSignature = (e) => {\n    e.preventDefault();\n    setHideOfficeNotes(true);\n    setHideSignaturePad(false);\n    setHideEditButton(true);\n    setHideSubmitForSignatureButton(true);\n    setHideSubmitForReviewButton(false);\n  };\n\n  const clearSignaturePad = (e) => {\n    sigPad.clear();\n  };\n\n  const handleEditWorkOrder = (e) => {\n    e.preventDefault();\n    dispatch(editWorkOrder(workOrder));\n  };\n\n  const handleSubmitForReview = (e) => {\n    e.preventDefault();\n    setWorkOrder({\n      ...workOrder,\n      signature: sigPad.getTrimmedCanvas().toDataURL(\"image/png\"),\n      status: \"In Review\",\n    });\n    setReviewFlag(true);\n  };\n\n  const handleSubmitForBilling = (e) => {\n    e.preventDefault();\n    setWorkOrder({\n      ...workOrder,\n      status: \"In Billing\",\n    });\n    setFlag(true);\n  };\n\n  const handleCloseWorkOrder = (e) => {\n    e.preventDefault();\n    setWorkOrder({\n      ...workOrder,\n      status: \"Closed\",\n    });\n    setFlag(true);\n  };\n\n  const toggleEditPunch = (e, punch) => {\n    console.log(punch);\n    if (workOrder.serviceManager === currentUser.uid) {\n      if (editPunchOpen) {\n        setCurrentPunch({\n          crewId: \"\",\n          clockIn: \"\",\n          timeAccrued: null,\n        });\n      } else {\n        setCurrentPunch(punch);\n      }\n      setEditPunchOpen(!editPunchOpen);\n    }\n  };\n\n  const handleHourChange = (e) => {\n    setHours(e.target.value);\n  };\n\n  const handleMinuteChange = (e) => {\n    setMinutes(e.target.value);\n  };\n\n  const submitTimeChange = (e) => {\n    const h = hours;\n    const m = minutes;\n\n    const minToSec = m * 60;\n    const hourToSec = h * 60 * 60;\n\n    const totalSec = minToSec + hourToSec;\n    const totalMilliSec = totalSec * 1000;\n\n    const crewPunches = workOrder.crewPunches;\n\n    const array = [];\n    crewPunches.forEach((punch) => {\n      if (punch.crewId !== currentPunch.crewId) {\n        array.push(punch);\n      }\n    });\n\n    array.push({\n      crewId: currentPunch.crewId,\n      clockIn: null,\n      timeAccrued: totalMilliSec,\n    });\n\n    setWorkOrder({\n      ...workOrder,\n      crewPunches: array,\n    });\n\n    toggleEditPunch(false);\n  };\n\n  const toggleEditService = (e, service) => {\n    if (\n      workOrder.status === \"Open\" ||\n      (workOrder.status === \"In Review\" &&\n        workOrder.serviceManager === currentUser.uid)\n    ) {\n      if (editServiceOpen) {\n        setCurrentService({\n          make: \"\",\n          type: \"\",\n          model: \"\",\n          serialNumber: \"\",\n          bayNumber: \"\",\n          serviceDone: \"\",\n          billableHours: null,\n          partsUsed: [],\n          partsNeeded: [],\n          images: [],\n        });\n      } else {\n        setCurrentService(service);\n      }\n      setEditServiceOpen(!editServiceOpen);\n    }\n    console.log(service);\n  };\n\n  const handleServiceEditChange = (e) => {\n    setCurrentService({\n      ...currentService,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const submitServiceEditChange = e => {\n    \n  }\n\n  return (\n    <div className=\"work-order-page\">\n      {workOrder ? (\n        <div className=\"work-order-page-content\">\n          <h1>{`Work Order #${workOrder.workOrderId}`}</h1>\n          <Form className=\"work-order-info\">\n            <FormGroup>\n              <Label for=\"customerName\">Customer Name</Label>\n              <Input disabled value={customer.businessName} />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"customerAddress\">Customer Address</Label>\n              <a\n                href={`http://maps.google.com/maps?q=${mapsAddress}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <Input\n                  disabled\n                  value={`${\n                    customer.shopAddress ? customer.shopAddress.address : null\n                  }, ${\n                    customer.shopAddress ? customer.shopAddress.city : null\n                  }, ${\n                    customer.shopAddress ? customer.shopAddress.state : null\n                  } ${\n                    customer.shopAddress ? customer.shopAddress.zipcode : null\n                  }`}\n                />\n              </a>\n            </FormGroup>\n            <FormGroup className=\"type-input\">\n              <Label for=\"serviceType\">Service Type(s)</Label>\n              <Input disabled value={typeConverter(workOrder.serviceType)} />\n            </FormGroup>\n            <div className=\"date-div\">\n              <FormGroup>\n                <Label for=\"serviceDate\">Service Date</Label>\n                <Input disabled value={dateConverter(workOrder.serviceDate)} />\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"serviceStartTime\">Service Start Time</Label>\n                <Input\n                  disabled\n                  value={timeConverter(workOrder.serviceStartTime)}\n                />\n              </FormGroup>\n            </div>\n            <FormGroup>\n              <Label for=\"crewMembers\">Crew Members</Label>\n              <Input disabled value={crewConverter(employees)} />\n            </FormGroup>\n            <FormGroup className=\"description-input\">\n              <Label for=\"serviceDescription\">Service Description</Label>\n              <Input\n                disabled\n                type=\"textarea\"\n                value={workOrder.serviceDescription}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"crewPunches\">Crew Punches</Label>\n              {workOrder.crewPunches &&\n                workOrder.crewPunches.map((punch) => (\n                  <p onClick={(e) => toggleEditPunch(e, punch)}>\n                    {crewMemberConverter(punch.crewId)}:{\" \"}\n                    {jobTimeConverter(punch.timeAccrued)}\n                  </p>\n                ))}\n              {workOrder.crewPunches ? (\n                <p>\n                  <strong>\n                    Total Time Accrued: {totalTime(workOrder.crewPunches)}\n                  </strong>\n                </p>\n              ) : null}\n            </FormGroup>\n            <div className=\"button-div\">\n              {workOrder.status === \"Open\" ||\n              (workOrder.serviceManager === currentUser.uid &&\n                workOrder.status === \"In Review\") ? (\n                <div className=\"secondary-button-div\">\n                  <FormGroup>\n                    <Button color=\"primary\" onClick={clockIn}>\n                      Clock In\n                    </Button>\n                  </FormGroup>\n                  <FormGroup>\n                    <Button color=\"primary\" onClick={clockOut}>\n                      Clock Out\n                    </Button>\n                  </FormGroup>\n                </div>\n              ) : null}\n              {workOrder.serviceDone ? (\n                workOrder.serviceDone.length > 0 ? (\n                  <div className=\"service-table\">\n                    <h5>Services</h5>\n                    <Table hover size=\"sm\">\n                      <thead>\n                        <th>Service Type</th>\n                        <th>Service Description</th>\n                        <th>Parts Needed</th>\n                      </thead>\n                      <tbody>\n                        {workOrder.serviceDone.map((service) => (\n                          <tr onClick={(e) => toggleEditService(e, service)}>\n                            <td scope=\"row\">{service.type}</td>\n                            <td>{service.serviceDone}</td>\n                            <td>\n                              {service.partsNeeded.length > 0 ? \"Y\" : \"N\"}\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </Table>\n                  </div>\n                ) : null\n              ) : null}\n              {workOrder.status === \"Open\" ||\n              (workOrder.serviceManager === currentUser.uid &&\n                workOrder.status === \"In Review\") ? (\n                <FormGroup>\n                  <Button outline color=\"success\" onClick={toggleServiceModal}>\n                    Add Service\n                  </Button>\n                </FormGroup>\n              ) : null}\n              {workOrder.status === \"Open\" ||\n              (workOrder.serviceManager === currentUser.uid &&\n                workOrder.status === \"In Review\") ? (\n                <div className=\"secondary-button-div\">\n                  <FormGroup>\n                    <Button outline color=\"info\" onClick={goToInspection}>\n                      Add Inspection\n                    </Button>\n                  </FormGroup>\n                  <FormGroup>\n                    <Button\n                      outline\n                      color=\"warning\"\n                      className=\"training-button\"\n                      onClick={goToTraining}\n                    >\n                      Add Training\n                    </Button>\n                  </FormGroup>\n                </div>\n              ) : null}\n            </div>\n            <div className=\"travel-div\">\n              <FormGroup>\n                <Label for=\"travelTime\">Travel Time (Roundtrip)</Label>\n                <Input\n                  type=\"text\"\n                  name=\"travelTime\"\n                  disabled={\n                    workOrder.status === \"Closed\" ||\n                    workOrder.status === \"In Billing\" ||\n                    (workOrder.status === \"In Review\" &&\n                      workOrder.serviceManager !== currentUser.uid)\n                  }\n                  value={workOrder.travelTime ? workOrder.travelTime : null}\n                  onChange={handleChange}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"travelMileage\">Travel Mileage (Roundtrip)</Label>\n                <Input\n                  type=\"text\"\n                  name=\"travelMileage\"\n                  disabled={\n                    workOrder.status === \"Closed\" ||\n                    workOrder.status === \"In Billing\" ||\n                    (workOrder.status === \"In Review\" &&\n                      workOrder.serviceManager !== currentUser.uid)\n                  }\n                  value={\n                    workOrder.travelMileage ? workOrder.travelMileage : null\n                  }\n                  onChange={handleChange}\n                />\n              </FormGroup>\n            </div>\n            <FormGroup>\n              <Label for=\"notes\">Notes</Label>\n              <Input\n                type=\"textarea\"\n                name=\"notes\"\n                disabled={\n                  workOrder.status === \"In Review\" ||\n                  workOrder.status === \"In Billing\" ||\n                  workOrder.status === \"Closed\"\n                }\n                value={workOrder.notes ? workOrder.notes : null}\n                onChange={handleChange}\n              />\n            </FormGroup>\n            {hideOfficeNotes ? null : (\n              <FormGroup>\n                <Label for=\"officeNotes\">Office Notes (NOT FOR CUSTOMER)</Label>\n                <Input\n                  type=\"textarea\"\n                  name=\"officeNotes\"\n                  disabled={\n                    (workOrder.serviceManager !== currentUser.uid &&\n                      workOrder.status === \"In Review\") ||\n                    (workOrder.officeManager !== currentUser.uid &&\n                      workOrder.status === \"In Billing\")\n                  }\n                  value={workOrder.officeNotes ? workOrder.officeNotes : null}\n                  onChange={handleChange}\n                />\n              </FormGroup>\n            )}\n            {!workOrder.signature ? (\n              hideSignaturePad ? null : (\n                <FormGroup>\n                  <div className=\"signature-pad-header\">\n                    <Label for=\"signature\">Signature</Label>\n                    <Button\n                      outline\n                      color=\"danger\"\n                      className=\"clear-button\"\n                      onClick={clearSignaturePad}\n                    >\n                      <i className=\"far fa-times\" />\n                    </Button>\n                  </div>\n                  {workOrder.status !== \"In Review\" ? (\n                    <SignatureCanvas\n                      canvasProps={{ className: \"signature-pad\" }}\n                      ref={(ref) => {\n                        sigPad = ref;\n                      }}\n                    />\n                  ) : (\n                    <img src={workOrder.signature} alt=\"Signature\" />\n                  )}\n                </FormGroup>\n              )\n            ) : null}\n            {!workOrder.signature ? (\n              hideEditButton ? null : (\n                <FormGroup className=\"submit-button edit-button\">\n                  <Button outline color=\"success\" onClick={handleEditWorkOrder}>\n                    Save Work Order\n                  </Button>\n                </FormGroup>\n              )\n            ) : null}\n            {!workOrder.signature ? (\n              hideSubmitForSignatureButton ? null : (\n                <FormGroup className=\"submit-button\">\n                  <Button color=\"success\" onClick={handleSubmitForSignature}>\n                    Submit for Signature\n                  </Button>\n                </FormGroup>\n              )\n            ) : null}\n            {!workOrder.signature ? (\n              hideSubmitForReviewButton ? null : (\n                <FormGroup className=\"submit-button\">\n                  <Button color=\"success\" onClick={handleSubmitForReview}>\n                    Submit for Review\n                  </Button>\n                </FormGroup>\n              )\n            ) : null}\n            {workOrder.signature ? (\n              <FormGroup>\n                <Label for=\"signature\">Signature</Label>\n                <img\n                  src={workOrder.signature}\n                  alt=\"Signature\"\n                  className=\"signature-img\"\n                />\n              </FormGroup>\n            ) : null}\n            {workOrder.signature ? (\n              workOrder.serviceManager === currentUser.uid ? (\n                workOrder.status === \"In Review\" ? (\n                  <FormGroup className=\"submit-button edit-button\">\n                    <Button\n                      outline\n                      color=\"success\"\n                      onClick={handleEditWorkOrder}\n                    >\n                      Save Work Order\n                    </Button>\n                  </FormGroup>\n                ) : null\n              ) : null\n            ) : null}\n            {workOrder.signature ? (\n              workOrder.serviceManager === currentUser.uid ? (\n                workOrder.status === \"In Review\" ? (\n                  <FormGroup className=\"submit-button\">\n                    <Button color=\"success\" onClick={handleSubmitForBilling}>\n                      Submit for Billing\n                    </Button>\n                  </FormGroup>\n                ) : null\n              ) : null\n            ) : null}\n            {workOrder.signature ? (\n              workOrder.officeManager === currentUser.uid ? (\n                workOrder.status === \"In Billing\" ? (\n                  <FormGroup className=\"submit-button edit-button\">\n                    <Button\n                      outline\n                      color=\"success\"\n                      onClick={handleEditWorkOrder}\n                    >\n                      Save Work Order\n                    </Button>\n                  </FormGroup>\n                ) : null\n              ) : null\n            ) : null}\n            {workOrder.signature ? (\n              workOrder.officeManager === currentUser.uid ? (\n                workOrder.status === \"In Billing\" ? (\n                  <FormGroup className=\"submit-button\">\n                    <Button color=\"success\" onClick={handleCloseWorkOrder}>\n                      Close Work Order\n                    </Button>\n                  </FormGroup>\n                ) : null\n              ) : null\n            ) : null}\n          </Form>\n        </div>\n      ) : null}\n      <Modal isOpen={isOpenServiceModal} toggle={toggleServiceModal}>\n        <ModalHeader toggle={toggleServiceModal}>Add Service</ModalHeader>\n        <ModalBody>\n          <Form onSubmit={handleSubmitService}>\n            <div className=\"equipment-div\">\n              <FormGroup>\n                <Label for=\"make\">Make</Label>\n                <Input\n                  type=\"text\"\n                  name=\"make\"\n                  onChange={handleChangeService}\n                  invalid={serviceErrors.make ? true : false}\n                />\n                <FormFeedback>{serviceErrors.make}</FormFeedback>\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"type\">Type</Label>\n                <Input\n                  type=\"text\"\n                  name=\"type\"\n                  onChange={handleChangeService}\n                  invalid={serviceErrors.type ? true : false}\n                />\n                <FormFeedback>{serviceErrors.type}</FormFeedback>\n              </FormGroup>\n            </div>\n            <div className=\"equipment-div\">\n              <FormGroup>\n                <Label for=\"model\">Model</Label>\n                <Input\n                  type=\"text\"\n                  name=\"model\"\n                  onChange={handleChangeService}\n                  invalid={serviceErrors.model ? true : false}\n                />\n                <FormFeedback>{serviceErrors.model}</FormFeedback>\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"serialNumber\">Serial Number</Label>\n                <Input\n                  type=\"text\"\n                  name=\"serialNumber\"\n                  onChange={handleChangeService}\n                  invalid={serviceErrors.serialNumber ? true : false}\n                />\n                <FormFeedback>{serviceErrors.serialNumber}</FormFeedback>\n              </FormGroup>\n            </div>\n            <FormGroup>\n              <Label for=\"bayNumber\">Bay Number</Label>\n              <Input\n                type=\"text\"\n                name=\"bayNumber\"\n                onChange={handleChangeService}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"serviceDone\">What work was done?</Label>\n              <Input\n                type=\"textarea\"\n                name=\"serviceDone\"\n                onChange={handleChangeService}\n                invalid={serviceErrors.serviceDone ? true : false}\n              />\n              <FormFeedback>{serviceErrors.serviceDone}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"billableHours\">Billable Hours</Label>\n              <Input\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.5\"\n                name=\"billableHours\"\n                onChange={handleChangeService}\n                invalid={serviceErrors.billableHours ? true : false}\n              />\n              <FormFeedback>{serviceErrors.billableHours}</FormFeedback>\n            </FormGroup>\n            {service.partsUsed.length > 0 ? (\n              <div className=\"part-div\">\n                <h5>Parts Used</h5>\n                <Table hover size=\"sm\" className=\"part-table\">\n                  <thead>\n                    <th>Quantity</th>\n                    <th>Description</th>\n                    <th>Part Number</th>\n                    <th>Images</th>\n                  </thead>\n                  <tbody>\n                    {service.partsUsed.map((part) => (\n                      <tr>\n                        <td scope=\"row\">{part.quantity}</td>\n                        <td>{part.partDescription}</td>\n                        <td>{part.partNumber}</td>\n                        <td>{part.images}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </div>\n            ) : null}\n            {service.partsNeeded.length > 0 ? (\n              <div className=\"part-div\">\n                <h5>Parts Needed</h5>\n                <Table hover size=\"sm\" className=\"part-table\">\n                  <thead>\n                    <th>Quantity</th>\n                    <th>Description</th>\n                    <th>Part Number</th>\n                    <th>Images</th>\n                  </thead>\n                  <tbody>\n                    {service.partsNeeded.map((part) => (\n                      <tr>\n                        <td scope=\"row\">{part.quantity}</td>\n                        <td>{part.partDescription}</td>\n                        <td>{part.partNumber}</td>\n                        <td>{part.images}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </div>\n            ) : null}\n            <FormGroup className=\"parts-group\">\n              <Button outline color=\"success\" onClick={togglePartUsed}>\n                Add Part Used\n              </Button>\n              <Button outline color=\"danger\" onClick={togglePartNeeded}>\n                Add Part Needed\n              </Button>\n            </FormGroup>\n            <FormGroup>\n              <Label>Picture(s)</Label>\n              <Input\n                multiple\n                type=\"file\"\n                accept=\"image/*\"\n                capture=\"environment\"\n                name=\"images\"\n                onChange={handleChangeService}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" onClick={handleSubmitService}>\n            Submit\n          </Button>\n        </ModalFooter>\n      </Modal>\n      <Modal isOpen={isOpenPartUsed} toggle={togglePartUsed}>\n        <ModalHeader toggle={togglePartUsed}>Add Part Used</ModalHeader>\n        <ModalBody>\n          <Form onSubmit={handleSubmitPartUsed}>\n            <FormGroup>\n              <Label>Quantity</Label>\n              <Input\n                type=\"text\"\n                name=\"quantity\"\n                onChange={handleChangePartUsed}\n                invalid={partUsedErrors.quantity ? true : false}\n              />\n              <FormFeedback>{partUsedErrors.quantity}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label>Part Description</Label>\n              <Input\n                type=\"text\"\n                name=\"partDescription\"\n                onChange={handleChangePartUsed}\n                invalid={partUsedErrors.partDescription ? true : false}\n              />\n              <FormFeedback>{partUsedErrors.partDescription}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label>Part Number</Label>\n              <Input\n                type=\"text\"\n                name=\"partNumber\"\n                onChange={handleChangePartUsed}\n                invalid={partUsedErrors.partNumber ? true : false}\n              />\n              <FormFeedback>{partUsedErrors.partNumber}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label>Picture(s)</Label>\n              <Input\n                multiple\n                type=\"file\"\n                accept=\"image/*\"\n                capture=\"environment\"\n                name=\"images\"\n                onChange={handleChangePartUsed}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" onClick={handleSubmitPartUsed}>\n            Submit\n          </Button>\n        </ModalFooter>\n      </Modal>\n      <Modal isOpen={isOpenPartNeeded} toggle={togglePartNeeded}>\n        <ModalHeader toggle={togglePartNeeded}>Add Part Needed</ModalHeader>\n        <ModalBody>\n          <Form onSubmit={handleSubmitPartNeeded}>\n            <FormGroup>\n              <Label>Quantity</Label>\n              <Input\n                type=\"text\"\n                name=\"quantity\"\n                onChange={handleChangePartNeeded}\n                invalid={partNeededErrors.quantity ? true : false}\n              />\n              <FormFeedback>{partNeededErrors.quantity}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label>Part Description</Label>\n              <Input\n                type=\"text\"\n                name=\"partDescription\"\n                onChange={handleChangePartNeeded}\n                invalid={partNeededErrors.partDescription ? true : false}\n              />\n              <FormFeedback>{partNeededErrors.partDescription}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label>Part Number</Label>\n              <Input\n                type=\"text\"\n                name=\"partNumber\"\n                onChange={handleChangePartNeeded}\n                invalid={partNeededErrors.partNumber ? true : false}\n              />\n              <FormFeedback>{partNeededErrors.partNumber}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label>Picture(s)</Label>\n              <Input\n                multiple\n                type=\"file\"\n                accept=\"image/*\"\n                capture=\"environment\"\n                name=\"images\"\n                onChange={handleChangePartNeeded}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" onClick={handleSubmitPartNeeded}>\n            Submit\n          </Button>\n        </ModalFooter>\n      </Modal>\n      <Modal isOpen={editPunchOpen} toggle={toggleEditPunch}>\n        <ModalHeader toggle={toggleEditPunch}>Edit Time</ModalHeader>\n        <ModalBody>\n          <Form onSubmit={submitTimeChange}>\n            <Label>Edit to correct total time accrued on job</Label>\n            <div>\n              <FormGroup>\n                <Label>Hours</Label>\n                <Input\n                  type=\"number\"\n                  name=\"hours\"\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"1\"\n                  onChange={handleHourChange}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>Minutes</Label>\n                <Input\n                  type=\"number\"\n                  name=\"minutes\"\n                  min=\"0\"\n                  max=\"59\"\n                  step=\"1\"\n                  onChange={handleMinuteChange}\n                />\n              </FormGroup>\n            </div>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" onClick={submitTimeChange}>\n            Save\n          </Button>\n        </ModalFooter>\n      </Modal>\n      <Modal isOpen={editServiceOpen} toggle={toggleEditService}>\n        <ModalHeader toggle={toggleEditService}>Edit Service</ModalHeader>\n        <ModalBody>\n          <Form onSubmit={submitServiceEditChange}>\n            <div className=\"equipment-div\">\n              <FormGroup>\n                <Label for=\"make\">Make</Label>\n                <Input\n                  type=\"text\"\n                  name=\"make\"\n                  value={currentService && currentService.make}\n                  onChange={handleServiceEditChange}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"type\">Type</Label>\n                <Input\n                  type=\"text\"\n                  name=\"type\"\n                  value={currentService && currentService.type}\n                  onChange={handleServiceEditChange}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"equipment-div\">\n              <FormGroup>\n                <Label for=\"model\">Model</Label>\n                <Input\n                  type=\"text\"\n                  name=\"model\"\n                  value={currentService && currentService.model}\n                  onChange={handleServiceEditChange}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"serialNumber\">Serial Number</Label>\n                <Input\n                  type=\"text\"\n                  name=\"serialNumber\"\n                  value={currentService && currentService.serialNumber}\n                  onChange={handleServiceEditChange}\n                />\n              </FormGroup>\n            </div>\n            <FormGroup>\n              <Label for=\"bayNumber\">Bay Number</Label>\n              <Input\n                type=\"text\"\n                name=\"bayNumber\"\n                value={currentService && currentService.bayNumber}\n                onChange={handleServiceEditChange}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"serviceDone\">What work was done?</Label>\n              <Input\n                type=\"textarea\"\n                name=\"serviceDone\"\n                value={currentService && currentService.serviceDone}\n                onChange={handleServiceEditChange}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"billableHours\">Billable Hours</Label>\n              <Input\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"0.5\"\n                name=\"billableHours\"\n                value={currentService && currentService.billableHours}\n                onChange={handleServiceEditChange}\n              />\n            </FormGroup>\n            {service.partsUsed.length > 0 ? (\n              <div className=\"part-div\">\n                <h5>Parts Used</h5>\n                <Table hover size=\"sm\" className=\"part-table\">\n                  <thead>\n                    <th>Quantity</th>\n                    <th>Description</th>\n                    <th>Part Number</th>\n                    <th>Images</th>\n                  </thead>\n                  <tbody>\n                    {service.partsUsed.map((part) => (\n                      <tr>\n                        <td scope=\"row\">{part.quantity}</td>\n                        <td>{part.partDescription}</td>\n                        <td>{part.partNumber}</td>\n                        <td>{part.images}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </div>\n            ) : null}\n            {service.partsNeeded.length > 0 ? (\n              <div className=\"part-div\">\n                <h5>Parts Needed</h5>\n                <Table hover size=\"sm\" className=\"part-table\">\n                  <thead>\n                    <th>Quantity</th>\n                    <th>Description</th>\n                    <th>Part Number</th>\n                    <th>Images</th>\n                  </thead>\n                  <tbody>\n                    {service.partsNeeded.map((part) => (\n                      <tr>\n                        <td scope=\"row\">{part.quantity}</td>\n                        <td>{part.partDescription}</td>\n                        <td>{part.partNumber}</td>\n                        <td>{part.images}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </Table>\n              </div>\n            ) : null}\n            <FormGroup className=\"parts-group\">\n              <Button outline color=\"success\" onClick={togglePartUsed}>\n                Add Part Used\n              </Button>\n              <Button outline color=\"danger\" onClick={togglePartNeeded}>\n                Add Part Needed\n              </Button>\n            </FormGroup>\n            <FormGroup>\n              <Label>Picture(s)</Label>\n              <Input\n                multiple\n                type=\"file\"\n                accept=\"image/*\"\n                capture=\"environment\"\n                name=\"images\"\n                value={currentService && currentService.images}\n                onChange={handleServiceEditChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" onClick={submitServiceEditChange}>Save</Button>\n        </ModalFooter>\n      </Modal>\n    </div>\n  );\n};\n\nexport default WorkOrder;\n"]},"metadata":{},"sourceType":"module"}