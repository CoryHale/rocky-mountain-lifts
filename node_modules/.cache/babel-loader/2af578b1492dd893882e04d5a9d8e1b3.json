{"ast":null,"code":"import _defineProperty from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Button,Modal,ModalHeader,ModalBody,ModalFooter,Form,FormGroup,FormFeedback,Label,Input}from\"reactstrap\";import Select from\"react-select\";import{addWorkOrder}from\"../../actions/addWorkOrder\";import\"../../styles/sidebar.scss\";var AddWorkOrderBtn=function AddWorkOrderBtn(){var _useState=useState({customer:\"\",serviceDate:\"\",serviceStartTime:\"\",serviceEndTime:\"\",serviceDescription:\"\",serviceType:[],dispatcher:\"\",serviceManager:\"\",officeManager:\"\",crewMembers:[],jobNumber:\"\",notes:\"\",officeNotes:\"\",quote:\"\"}),_useState2=_slicedToArray(_useState,2),workOrder=_useState2[0],setWorkOrder=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];var getErrors=useSelector(function(state){return state.addWorkOrderReducer.errors;});var getSuccess=useSelector(function(state){return state.addWorkOrderReducer.success;});var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),employees=_useState8[0],setEmployees=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),serviceManagers=_useState10[0],setServiceManagers=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),officeManagers=_useState12[0],setOfficeManagers=_useState12[1];var employeesArray=[];var serviceManagersArray=[];var officeManagersArray=[];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),customers=_useState14[0],setCustomers=_useState14[1];var customersArray=[];var getUsers=useSelector(function(state){return state.getUsersReducer.users;});var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isOpen=_useState16[0],setIsOpen=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isOpenCheck=_useState18[0],setIsOpenCheck=_useState18[1];var _useState19=useState({}),_useState20=_slicedToArray(_useState19,2),warnings=_useState20[0],setWarnings=_useState20[1];var dispatch=useDispatch();var isFirstRun=useRef(true);useEffect(function(){if(isFirstRun.current){isFirstRun.current=false;return;}setErrors(getErrors);},[getErrors]);useEffect(function(){if(getSuccess===true){setSuccess(true);}},[getSuccess]);useEffect(function(){if(success===true){setIsOpen(false);setErrors({});setSuccess(false);setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{customer:\"\",serviceDate:\"\",serviceStartTime:\"\",serviceEndTime:\"\",serviceDescription:\"\",serviceType:[],dispatch:\"\",crewMembers:[],jobNumber:\"\",notes:\"\",officeNotes:\"\",quote:\"\"}));}},[success,workOrder]);useEffect(function(){if(getUsers.users){getUsers.users.forEach(function(user){if(user.userType===\"employee\"&&user.active){employeesArray.push({label:\"\".concat(user.firstName,\" \").concat(user.lastName),value:user.userId,name:\"crewMembers\",jobTitle:user.jobTitle});}else{customersArray.push({label:user.businessName,value:user.userId,name:\"customer\"});}});}employeesArray.push({label:\"General Contractor\",value:\"General Contractor\"});setEmployees(employeesArray);setCustomers(customersArray);var serviceManagerId=\"\";var officeManagerId=\"\";employeesArray.forEach(function(employee){if(employee.jobTitle===\"Service Manager\"){employee.name=\"serviceManager\";serviceManagersArray.push(employee);if(employee.value===\"uXwUIQNHljckMtq4AR57zMBExhd2\"){serviceManagerId=employee.value;}}else if(employee.jobTitle===\"Office Manager\"){employee.name=\"officeManager\";officeManagersArray.push(employee);if(employee.value===\"P8NOWpsqBTV8OrO5ICZSYAdPrx22\"){officeManagerId=employee.value;}}});setServiceManagers(serviceManagersArray);setOfficeManagers(officeManagersArray);setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{serviceManager:serviceManagerId,officeManager:officeManagerId}));},[getUsers]);var toggle=function toggle(e){setIsOpen(!isOpen);setErrors({});setWarnings({});if(!isOpen){setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{customer:\"\",serviceDate:\"\",serviceStartTime:\"\",serviceEndTime:\"\",serviceDescription:\"\",serviceType:[],dispatcher:\"\",crewMembers:[],jobNumber:\"\",notes:\"\",officeNotes:\"\",quote:\"\"}));}};var toggleCheck=function toggleCheck(e){if(isOpenCheck){setWarnings({});}setIsOpenCheck(!isOpenCheck);};var handleChange=function handleChange(e){setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},_defineProperty({},e.target.name,e.target.value)));};var handleSelectChange=function handleSelectChange(e){setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},_defineProperty({},e.name,e.value)));};var handleServiceTypeChange=function handleServiceTypeChange(e){var services=[];e.forEach(function(e){services.push(e.value);});setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{serviceType:services}));};var handleCrewMembersChange=function handleCrewMembersChange(e){var members=[];e.forEach(function(e){members.push(e.value);});setWorkOrder(_objectSpread(_objectSpread({},workOrder),{},{crewMembers:members}));};var handleSubmit=function handleSubmit(e){e.preventDefault();var valid=warningCheck();if(valid){dispatch(addWorkOrder(workOrder));}else{toggleCheck();}};var warningCheck=function warningCheck(e){var warningsObject={};if(workOrder.serviceEndTime.trim()===\"\"){warningsObject.serviceEndTime=\"End Time\";}if(workOrder.jobNumber.trim()===\"\"){warningsObject.jobNumber=\"Job Number\";}if(workOrder.notes.trim()===\"\"){warningsObject.notes=\"Notes\";}if(workOrder.officeNotes.trim()===\"\"){warningsObject.officeNotes=\"Office Notes\";}if(workOrder.quote.trim()===\"\"){warningsObject.quote=\"Quote\";}if(Object.keys(warningsObject).length===0){return true;}else{setWarnings(warningsObject);return false;}};var handleSubmitCheck=function handleSubmitCheck(e){e.preventDefault();setWarnings({});dispatch(addWorkOrder(workOrder));toggleCheck();};return/*#__PURE__*/React.createElement(\"div\",{className:\"add-work-order-div\"},/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:toggle},\"Create Work Order\"),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpen,toggle:toggle},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggle},\"Create Work Order\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"customer\"},\"Customer\"),/*#__PURE__*/React.createElement(Select,{options:customers,name:\"customer\",onChange:handleSelectChange,className:errors.customer?\"invalid\":\"\"}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.customer?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.customer)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"date\"},\"Date\"),/*#__PURE__*/React.createElement(Input,{type:\"date\",name:\"serviceDate\",id:\"serviceDate\",placeholder:\"date placeholder\",onChange:handleChange,invalid:errors.serviceDate?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceDate)),/*#__PURE__*/React.createElement(\"div\",{className:\"time-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"startTime\"},\"Start Time\"),/*#__PURE__*/React.createElement(Input,{type:\"time\",name:\"serviceStartTime\",id:\"serviceStartTime\",placeholder:\"time placeholder\",onChange:handleChange,invalid:errors.serviceStartTime?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceStartTime)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"endTime\"},\"End Time\"),/*#__PURE__*/React.createElement(Input,{type:\"time\",name:\"serviceEndTime\",id:\"serviceEndTime\",placeholder:\"time placeholder\",onChange:handleChange}))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceDescription\"},\"Service Description\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"serviceDescription\",id:\"serviceDescription\",onChange:handleChange,invalid:errors.serviceDescription?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceDescription)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceType\"},\"Service Type\"),/*#__PURE__*/React.createElement(Select,{isMulti:true,options:serviceTypes.map(function(type){return{label:type,value:type,name:\"serviceType\"};}),name:\"serviceType\",onChange:handleServiceTypeChange,className:errors.serviceType?\"invalid\":\"\"}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.serviceType?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceType)),/*#__PURE__*/React.createElement(\"div\",{className:\"manager-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"serviceManager\"},\"Service Manager\"),/*#__PURE__*/React.createElement(Select,{options:serviceManagers,defaultValue:serviceManagers[0],name:\"serviceManager\",onChange:handleSelectChange,className:errors.serviceManager?\"invalid\":\"\"}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.serviceManager?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.serviceManager)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"officeManager\"},\"Billing Manager\"),/*#__PURE__*/React.createElement(Select,{options:officeManagers,defaultValue:officeManagers[0],name:\"officeManager\",onChange:handleSelectChange,className:errors.officeManager?\"invalid\":\"\"}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.officeManager?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.officeManager))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"crewMembers\"},\"Crew Members\"),/*#__PURE__*/React.createElement(Select,{isMulti:true,options:employees,name:\"crewMembers\",onChange:handleCrewMembersChange,className:errors.crewMembers?\"invalid\":\"\"}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.crewMembers?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.crewMembers)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"prevJobNumber\"},\"Job Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"jobNumber\",id:\"jobNumber\",onChange:handleChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"notes\"},\"Notes\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"notes\",id:\"notes\",onChange:handleChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"officeNotes\"},\"Office Notes\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"officeNotes\",id:\"officeNotes\",onChange:handleChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"quote\"},\"Quote\"),/*#__PURE__*/React.createElement(Input,{type:\"file\",name:\"file\",id:\"file\",onChange:handleChange})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",type:\"submit\",onClick:handleSubmit},\"Submit\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpenCheck,toggle:toggleCheck},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggleCheck},\"Warning\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"span\",null,\"The following fields were left blank:\"),/*#__PURE__*/React.createElement(\"ul\",null,warnings?Object.values(warnings).map(function(warning){return/*#__PURE__*/React.createElement(\"li\",null,warning);}):null),/*#__PURE__*/React.createElement(\"span\",null,\"Are you sure you want to continue?\")),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",type:\"submit\",onClick:handleSubmitCheck},\"YES\"),/*#__PURE__*/React.createElement(Button,{color:\"danger\",onClick:toggleCheck},\"NO\"))));};export default AddWorkOrderBtn;var serviceTypes=[\"Install\",\"Service\",\"Training\",\"Inspection\",\"Warranty\"];","map":{"version":3,"sources":["/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/src/components/sidebar-components/AddWorkOrderBtn.js"],"names":["React","useState","useEffect","useRef","useDispatch","useSelector","Button","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","FormFeedback","Label","Input","Select","addWorkOrder","AddWorkOrderBtn","customer","serviceDate","serviceStartTime","serviceEndTime","serviceDescription","serviceType","dispatcher","serviceManager","officeManager","crewMembers","jobNumber","notes","officeNotes","quote","workOrder","setWorkOrder","errors","setErrors","success","setSuccess","getErrors","state","addWorkOrderReducer","getSuccess","employees","setEmployees","serviceManagers","setServiceManagers","officeManagers","setOfficeManagers","employeesArray","serviceManagersArray","officeManagersArray","customers","setCustomers","customersArray","getUsers","getUsersReducer","users","isOpen","setIsOpen","isOpenCheck","setIsOpenCheck","warnings","setWarnings","dispatch","isFirstRun","current","forEach","user","userType","active","push","label","firstName","lastName","value","userId","name","jobTitle","businessName","serviceManagerId","officeManagerId","employee","toggle","e","toggleCheck","handleChange","target","handleSelectChange","handleServiceTypeChange","services","handleCrewMembersChange","members","handleSubmit","preventDefault","valid","warningCheck","warningsObject","trim","Object","keys","length","handleSubmitCheck","serviceTypes","map","type","values","warning"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Form,\n  FormGroup,\n  FormFeedback,\n  Label,\n  Input,\n} from \"reactstrap\";\nimport Select from \"react-select\";\nimport { addWorkOrder } from \"../../actions/addWorkOrder\";\n\nimport \"../../styles/sidebar.scss\";\n\nconst AddWorkOrderBtn = () => {\n  const [workOrder, setWorkOrder] = useState({\n    customer: \"\",\n    serviceDate: \"\",\n    serviceStartTime: \"\",\n    serviceEndTime: \"\",\n    serviceDescription: \"\",\n    serviceType: [],\n    dispatcher: \"\",\n    serviceManager: \"\",\n    officeManager: \"\",\n    crewMembers: [],\n    jobNumber: \"\",\n    notes: \"\",\n    officeNotes: \"\",\n    quote: \"\",\n  });\n  const [errors, setErrors] = useState({});\n  const [success, setSuccess] = useState(false);\n  const getErrors = useSelector((state) => state.addWorkOrderReducer.errors);\n  const getSuccess = useSelector((state) => state.addWorkOrderReducer.success);\n  const [employees, setEmployees] = useState([]);\n  const [serviceManagers, setServiceManagers] = useState([]);\n  const [officeManagers, setOfficeManagers] = useState([]);\n  const employeesArray = [];\n  const serviceManagersArray = [];\n  const officeManagersArray = [];\n  const [customers, setCustomers] = useState([]);\n  const customersArray = [];\n  const getUsers = useSelector((state) => state.getUsersReducer.users);\n  const [isOpen, setIsOpen] = useState(false);\n  const [isOpenCheck, setIsOpenCheck] = useState(false);\n  const [warnings, setWarnings] = useState({});\n  const dispatch = useDispatch();\n\n  const isFirstRun = useRef(true);\n  useEffect(() => {\n    if (isFirstRun.current) {\n      isFirstRun.current = false;\n      return;\n    }\n    setErrors(getErrors);\n  }, [getErrors]);\n\n  useEffect(() => {\n    if (getSuccess === true) {\n      setSuccess(true);\n    }\n  }, [getSuccess]);\n\n  useEffect(() => {\n    if (success === true) {\n      setIsOpen(false);\n      setErrors({});\n      setSuccess(false);\n      setWorkOrder({\n        ...workOrder,\n        customer: \"\",\n        serviceDate: \"\",\n        serviceStartTime: \"\",\n        serviceEndTime: \"\",\n        serviceDescription: \"\",\n        serviceType: [],\n        dispatch: \"\",\n        crewMembers: [],\n        jobNumber: \"\",\n        notes: \"\",\n        officeNotes: \"\",\n        quote: \"\",\n      });\n    }\n  }, [success, workOrder]);\n\n  useEffect(() => {\n    if (getUsers.users) {\n      getUsers.users.forEach((user) => {\n        if (user.userType === \"employee\" && user.active) {\n          employeesArray.push({\n            label: `${user.firstName} ${user.lastName}`,\n            value: user.userId,\n            name: \"crewMembers\",\n            jobTitle: user.jobTitle,\n          });\n        } else {\n          customersArray.push({\n            label: user.businessName,\n            value: user.userId,\n            name: \"customer\",\n          });\n        }\n      });\n    }\n\n    employeesArray.push({\n      label: \"General Contractor\",\n      value: \"General Contractor\",\n    });\n\n    setEmployees(employeesArray);\n    setCustomers(customersArray);\n\n    let serviceManagerId = \"\";\n    let officeManagerId = \"\";\n\n    employeesArray.forEach((employee) => {\n      if (employee.jobTitle === \"Service Manager\") {\n        employee.name = \"serviceManager\";\n        serviceManagersArray.push(employee);\n        if (employee.value === \"uXwUIQNHljckMtq4AR57zMBExhd2\") {\n          serviceManagerId = employee.value;\n        }\n      } else if (employee.jobTitle === \"Office Manager\") {\n        employee.name = \"officeManager\";\n        officeManagersArray.push(employee);\n        if (employee.value === \"P8NOWpsqBTV8OrO5ICZSYAdPrx22\") {\n          officeManagerId = employee.value;\n        }\n      }\n    });\n\n    setServiceManagers(serviceManagersArray);\n    setOfficeManagers(officeManagersArray);\n\n    setWorkOrder({\n      ...workOrder,\n      serviceManager: serviceManagerId,\n      officeManager: officeManagerId,\n    });\n  }, [getUsers]);\n\n  const toggle = (e) => {\n    setIsOpen(!isOpen);\n    setErrors({});\n    setWarnings({});\n\n    if (!isOpen) {\n      setWorkOrder({\n        ...workOrder,\n        customer: \"\",\n        serviceDate: \"\",\n        serviceStartTime: \"\",\n        serviceEndTime: \"\",\n        serviceDescription: \"\",\n        serviceType: [],\n        dispatcher: \"\",\n        crewMembers: [],\n        jobNumber: \"\",\n        notes: \"\",\n        officeNotes: \"\",\n        quote: \"\",\n      });\n    }\n  };\n\n  const toggleCheck = (e) => {\n    if (isOpenCheck) {\n      setWarnings({});\n    }\n    setIsOpenCheck(!isOpenCheck);\n  };\n\n  const handleChange = (e) => {\n    setWorkOrder({\n      ...workOrder,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleSelectChange = (e) => {\n    setWorkOrder({\n      ...workOrder,\n      [e.name]: e.value,\n    });\n  };\n\n  const handleServiceTypeChange = (e) => {\n    const services = [];\n\n    e.forEach((e) => {\n      services.push(e.value);\n    });\n\n    setWorkOrder({\n      ...workOrder,\n      serviceType: services,\n    });\n  };\n\n  const handleCrewMembersChange = (e) => {\n    const members = [];\n\n    e.forEach((e) => {\n      members.push(e.value);\n    });\n\n    setWorkOrder({\n      ...workOrder,\n      crewMembers: members,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const valid = warningCheck();\n\n    if (valid) {\n      dispatch(addWorkOrder(workOrder));\n    } else {\n      toggleCheck();\n    }\n  };\n\n  const warningCheck = (e) => {\n    let warningsObject = {};\n\n    if (workOrder.serviceEndTime.trim() === \"\") {\n      warningsObject.serviceEndTime = \"End Time\";\n    }\n    if (workOrder.jobNumber.trim() === \"\") {\n      warningsObject.jobNumber = \"Job Number\";\n    }\n    if (workOrder.notes.trim() === \"\") {\n      warningsObject.notes = \"Notes\";\n    }\n    if (workOrder.officeNotes.trim() === \"\") {\n      warningsObject.officeNotes = \"Office Notes\";\n    }\n    if (workOrder.quote.trim() === \"\") {\n      warningsObject.quote = \"Quote\";\n    }\n\n    if (Object.keys(warningsObject).length === 0) {\n      return true;\n    } else {\n      setWarnings(warningsObject);\n      return false;\n    }\n  };\n\n  const handleSubmitCheck = (e) => {\n    e.preventDefault();\n    setWarnings({});\n    dispatch(addWorkOrder(workOrder));\n    toggleCheck();\n  };\n\n  return (\n    <div className=\"add-work-order-div\">\n      <Button color=\"success\" onClick={toggle}>\n        Create Work Order\n      </Button>\n\n      <Modal isOpen={isOpen} toggle={toggle}>\n        <ModalHeader toggle={toggle}>Create Work Order</ModalHeader>\n        <ModalBody>\n          <Form onSubmit={handleSubmit}>\n            <FormGroup>\n              <Label for=\"customer\">Customer</Label>\n              <Select\n                options={customers}\n                name=\"customer\"\n                onChange={handleSelectChange}\n                className={errors.customer ? \"invalid\" : \"\"}\n              />\n              <Input\n                type=\"hidden\"\n                disabled\n                invalid={errors.customer ? true : false}\n              />\n              <FormFeedback>{errors.customer}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"date\">Date</Label>\n              <Input\n                type=\"date\"\n                name=\"serviceDate\"\n                id=\"serviceDate\"\n                placeholder=\"date placeholder\"\n                onChange={handleChange}\n                invalid={errors.serviceDate ? true : false}\n              />\n              <FormFeedback>{errors.serviceDate}</FormFeedback>\n            </FormGroup>\n            <div className=\"time-div\">\n              <FormGroup>\n                <Label for=\"startTime\">Start Time</Label>\n                <Input\n                  type=\"time\"\n                  name=\"serviceStartTime\"\n                  id=\"serviceStartTime\"\n                  placeholder=\"time placeholder\"\n                  onChange={handleChange}\n                  invalid={errors.serviceStartTime ? true : false}\n                />\n                <FormFeedback>{errors.serviceStartTime}</FormFeedback>\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"endTime\">End Time</Label>\n                <Input\n                  type=\"time\"\n                  name=\"serviceEndTime\"\n                  id=\"serviceEndTime\"\n                  placeholder=\"time placeholder\"\n                  onChange={handleChange}\n                />\n              </FormGroup>\n            </div>\n            <FormGroup>\n              <Label for=\"serviceDescription\">Service Description</Label>\n              <Input\n                type=\"textarea\"\n                name=\"serviceDescription\"\n                id=\"serviceDescription\"\n                onChange={handleChange}\n                invalid={errors.serviceDescription ? true : false}\n              />\n              <FormFeedback>{errors.serviceDescription}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"serviceType\">Service Type</Label>\n              <Select\n                isMulti\n                options={serviceTypes.map((type) => ({\n                  label: type,\n                  value: type,\n                  name: \"serviceType\",\n                }))}\n                name=\"serviceType\"\n                onChange={handleServiceTypeChange}\n                className={errors.serviceType ? \"invalid\" : \"\"}\n              />\n              <Input\n                type=\"hidden\"\n                disabled\n                invalid={errors.serviceType ? true : false}\n              />\n              <FormFeedback>{errors.serviceType}</FormFeedback>\n            </FormGroup>\n            <div className=\"manager-div\">\n              <FormGroup>\n                <Label for=\"serviceManager\">Service Manager</Label>\n                <Select\n                  options={serviceManagers}\n                  defaultValue={serviceManagers[0]}\n                  name=\"serviceManager\"\n                  onChange={handleSelectChange}\n                  className={errors.serviceManager ? \"invalid\" : \"\"}\n                />\n                <Input\n                  type=\"hidden\"\n                  disabled\n                  invalid={errors.serviceManager ? true : false}\n                />\n                <FormFeedback>{errors.serviceManager}</FormFeedback>\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"officeManager\">Billing Manager</Label>\n                <Select\n                  options={officeManagers}\n                  defaultValue={officeManagers[0]}\n                  name=\"officeManager\"\n                  onChange={handleSelectChange}\n                  className={errors.officeManager ? \"invalid\" : \"\"}\n                />\n                <Input\n                  type=\"hidden\"\n                  disabled\n                  invalid={errors.officeManager ? true : false}\n                />\n                <FormFeedback>{errors.officeManager}</FormFeedback>\n              </FormGroup>\n            </div>\n            <FormGroup>\n              <Label for=\"crewMembers\">Crew Members</Label>\n              <Select\n                isMulti\n                options={employees}\n                name=\"crewMembers\"\n                onChange={handleCrewMembersChange}\n                className={errors.crewMembers ? \"invalid\" : \"\"}\n              />\n              <Input\n                type=\"hidden\"\n                disabled\n                invalid={errors.crewMembers ? true : false}\n              />\n              <FormFeedback>{errors.crewMembers}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"prevJobNumber\">Job Number</Label>\n              <Input\n                type=\"text\"\n                name=\"jobNumber\"\n                id=\"jobNumber\"\n                onChange={handleChange}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"notes\">Notes</Label>\n              <Input\n                type=\"textarea\"\n                name=\"notes\"\n                id=\"notes\"\n                onChange={handleChange}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"officeNotes\">Office Notes</Label>\n              <Input\n                type=\"textarea\"\n                name=\"officeNotes\"\n                id=\"officeNotes\"\n                onChange={handleChange}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"quote\">Quote</Label>\n              <Input\n                type=\"file\"\n                name=\"file\"\n                id=\"file\"\n                onChange={handleChange}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" type=\"submit\" onClick={handleSubmit}>\n            Submit\n          </Button>\n        </ModalFooter>\n      </Modal>\n      <Modal isOpen={isOpenCheck} toggle={toggleCheck}>\n        <ModalHeader toggle={toggleCheck}>Warning</ModalHeader>\n        <ModalBody>\n          <span>The following fields were left blank:</span>\n          <ul>\n            {warnings\n              ? Object.values(warnings).map((warning) => <li>{warning}</li>)\n              : null}\n          </ul>\n          <span>Are you sure you want to continue?</span>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" type=\"submit\" onClick={handleSubmitCheck}>\n            YES\n          </Button>\n          <Button color=\"danger\" onClick={toggleCheck}>\n            NO\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </div>\n  );\n};\n\nexport default AddWorkOrderBtn;\n\nconst serviceTypes = [\n  \"Install\",\n  \"Service\",\n  \"Training\",\n  \"Inspection\",\n  \"Warranty\",\n];\n"]},"metadata":{},"sourceType":"module"}