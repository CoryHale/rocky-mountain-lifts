{"ast":null,"code":"import _defineProperty from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import Select from\"react-select\";import{Button,Modal,ModalHeader,ModalBody,ModalFooter,Form,FormGroup,Label,Input,FormFeedback}from\"reactstrap\";import{addEvent}from\"../../actions/addEvent\";import\"../../styles/sidebar.scss\";var AddEventBtn=function AddEventBtn(){var _useState=useState({title:\"\",startDate:\"\",endDate:\"\",startTime:\"\",endTime:\"\",allDay:false,recurring:false,daysOfWeek:[],extendedProps:{location:\"\",invitees:[],description:\"\"}}),_useState2=_slicedToArray(_useState,2),event=_useState2[0],setEvent=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isOpen=_useState4[0],setIsOpen=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),employees=_useState6[0],setEmployees=_useState6[1];var fetchUsers=useSelector(function(state){return state.getUsersReducer.users;});var success=useSelector(function(state){return state.addEventReducer.success;});var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),errors=_useState8[0],setErrors=_useState8[1];var fetchErrors=useSelector(function(state){return state.addEventReducer.errors;});var dispatch=useDispatch();useEffect(function(){var array=[{label:\"Everyone\",value:\"Everyone\"}];if(fetchUsers.users){fetchUsers.users.forEach(function(user){if(user.userType===\"employee\"&&user.active===true){array.push({label:\"\".concat(user.firstName,\" \").concat(user.lastName),value:user.userId});}});}setEmployees(array);},[fetchUsers]);useEffect(function(){if(success){toggle();}},[success]);useEffect(function(){if(fetchErrors){setErrors(fetchErrors);}},[fetchErrors]);var toggle=function toggle(){if(isOpen){setErrors({});setEvent({title:\"\",startDate:\"\",endDate:\"\",startTime:\"\",endTime:\"\",allDay:false,recurring:false,daysOfWeek:[],extendedProps:{location:\"\",invitees:[],description:\"\"}});}setIsOpen(!isOpen);};var handleChange=function handleChange(e){setEvent(_objectSpread(_objectSpread({},event),{},_defineProperty({},e.target.name,e.target.value)));};var handleExtendedChange=function handleExtendedChange(e){setEvent(_objectSpread(_objectSpread({},event),{},{extendedProps:_objectSpread(_objectSpread({},event.extendedProps),{},_defineProperty({},e.target.name,e.target.value))}));};var handleRecurringChange=function handleRecurringChange(e){setEvent(_objectSpread(_objectSpread({},event),{},{recurring:!event.recurring}));};var handleDaysChange=function handleDaysChange(e){var array=event.daysOfWeek;var temp=[];var day=parseInt(e.target.value);if(array.includes(day)){temp=array.filter(function(i){return i!==day;});array=temp;}else{array.push(day);}array.sort();setEvent(_objectSpread(_objectSpread({},event),{},{daysOfWeek:array}));console.log(array);};var handleSelectChange=function handleSelectChange(e){var invitees=[];e.forEach(function(e){invitees.push(e.value);});setEvent(_objectSpread(_objectSpread({},event),{},{extendedProps:_objectSpread(_objectSpread({},event.extendedProps),{},{invitees:invitees})}));};var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(addEvent(event));};return/*#__PURE__*/React.createElement(\"div\",{className:\"add-event-div\"},/*#__PURE__*/React.createElement(Button,{color:\"danger\",onClick:toggle},\"Add Event\"),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpen,toggle:toggle},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggle},\"Add Event\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Title\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"title\",onChange:handleChange,invalid:errors.title?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.title)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Location\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"location\",onChange:handleExtendedChange,invalid:errors.location?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.location)),/*#__PURE__*/React.createElement(\"div\",{className:\"start-end-date-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Start Date\"),/*#__PURE__*/React.createElement(Input,{type:\"date\",placeholder:\"date placeholder\",name:\"startDate\",onChange:handleChange,invalid:errors.startDate?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.startDate)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"End Date\"),/*#__PURE__*/React.createElement(Input,{type:\"date\",placeholder:\"date placeholder\",name:\"endDate\",onChange:handleChange,invalid:errors.endDate?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.endDate))),/*#__PURE__*/React.createElement(\"div\",{className:\"start-end-time-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Start Time\"),/*#__PURE__*/React.createElement(Input,{type:\"time\",placeholder:\"time placeholder\",name:\"startTime\",onChange:handleChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"End Time\"),/*#__PURE__*/React.createElement(Input,{type:\"time\",placeholder:\"time placeholder\",name:\"endTime\",onChange:handleChange,invalid:errors.endTime?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.endTime))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Description\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",name:\"description\",onChange:handleExtendedChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"recurring-div\"},/*#__PURE__*/React.createElement(FormGroup,{inline:true,check:true},/*#__PURE__*/React.createElement(Label,{inline:true,check:true},\"Is this a recurring event?\",\" \",/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"recurring\",onChange:handleRecurringChange}))),event.recurring?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Label,null,\"Which days should this event recur?\"),/*#__PURE__*/React.createElement(FormGroup,{check:true},/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"daysOfWeek\",value:\"0\",onChange:handleDaysChange}),\" \",\"Sunday\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"daysOfWeek\",value:\"1\",onChange:handleDaysChange}),\" \",\"Monday\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"daysOfWeek\",value:\"2\",onChange:handleDaysChange}),\" \",\"Tuesday\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"daysOfWeek\",value:\"3\",onChange:handleDaysChange}),\" \",\"Wednesday\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"daysOfWeek\",value:\"4\",onChange:handleDaysChange}),\" \",\"Thursday\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"daysOfWeek\",value:\"5\",onChange:handleDaysChange}),\" \",\"Friday\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Label,{check:true},/*#__PURE__*/React.createElement(Input,{type:\"checkbox\",name:\"daysOfWeek\",value:\"6\",onChange:handleDaysChange}),\" \",\"Saturday\"))):null),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,null,\"Invitees\"),/*#__PURE__*/React.createElement(Select,{isMulti:true,name:\"invitees\",options:employees,onChange:handleSelectChange,className:errors.invitees?\"invalid\":\"\"}),/*#__PURE__*/React.createElement(Input,{type:\"hidden\",disabled:true,invalid:errors.invitees?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errors.invitees)))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:handleSubmit},\"Submit\"))));};export default AddEventBtn;","map":{"version":3,"sources":["/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/src/components/sidebar-components/AddEventBtn.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Select","Button","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","Label","Input","FormFeedback","addEvent","AddEventBtn","title","startDate","endDate","startTime","endTime","allDay","recurring","daysOfWeek","extendedProps","location","invitees","description","event","setEvent","isOpen","setIsOpen","employees","setEmployees","fetchUsers","state","getUsersReducer","users","success","addEventReducer","errors","setErrors","fetchErrors","dispatch","array","label","value","forEach","user","userType","active","push","firstName","lastName","userId","toggle","handleChange","e","target","name","handleExtendedChange","handleRecurringChange","handleDaysChange","temp","day","parseInt","includes","filter","i","sort","console","log","handleSelectChange","handleSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Select from \"react-select\";\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  FormFeedback,\n} from \"reactstrap\";\nimport { addEvent } from \"../../actions/addEvent\";\n\nimport \"../../styles/sidebar.scss\";\n\nconst AddEventBtn = () => {\n  const [event, setEvent] = useState({\n    title: \"\",\n    startDate: \"\",\n    endDate: \"\",\n    startTime: \"\",\n    endTime: \"\",\n    allDay: false,\n    recurring: false,\n    daysOfWeek: [],\n    extendedProps: {\n      location: \"\",\n      invitees: [],\n      description: \"\",\n    },\n  });\n  const [isOpen, setIsOpen] = useState(false);\n  const [employees, setEmployees] = useState();\n  const fetchUsers = useSelector((state) => state.getUsersReducer.users);\n  const success = useSelector((state) => state.addEventReducer.success);\n  const [errors, setErrors] = useState({});\n  const fetchErrors = useSelector((state) => state.addEventReducer.errors);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const array = [\n      {\n        label: \"Everyone\",\n        value: \"Everyone\",\n      },\n    ];\n\n    if (fetchUsers.users) {\n      fetchUsers.users.forEach((user) => {\n        if (user.userType === \"employee\" && user.active === true) {\n          array.push({\n            label: `${user.firstName} ${user.lastName}`,\n            value: user.userId,\n          });\n        }\n      });\n    }\n\n    setEmployees(array);\n  }, [fetchUsers]);\n\n  useEffect(() => {\n    if (success) {\n      toggle();\n    }\n  }, [success]);\n\n  useEffect(() => {\n    if (fetchErrors) {\n      setErrors(fetchErrors);\n    }\n  }, [fetchErrors]);\n\n  const toggle = () => {\n    if (isOpen) {\n      setErrors({});\n      setEvent({\n        title: \"\",\n        startDate: \"\",\n        endDate: \"\",\n        startTime: \"\",\n        endTime: \"\",\n        allDay: false,\n        recurring: false,\n        daysOfWeek: [],\n        extendedProps: {\n          location: \"\",\n          invitees: [],\n          description: \"\",\n        },\n      });\n    }\n\n    setIsOpen(!isOpen);\n  };\n\n  const handleChange = (e) => {\n    setEvent({\n      ...event,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleExtendedChange = (e) => {\n    setEvent({\n      ...event,\n      extendedProps: {\n        ...event.extendedProps,\n        [e.target.name]: e.target.value,\n      },\n    });\n  };\n\n  const handleRecurringChange = (e) => {\n    setEvent({\n      ...event,\n      recurring: !event.recurring,\n    });\n  };\n\n  const handleDaysChange = (e) => {\n    let array = event.daysOfWeek;\n    let temp = [];\n\n    const day = parseInt(e.target.value);\n\n    if (array.includes(day)) {\n      temp = array.filter((i) => i !== day);\n      array = temp;\n    } else {\n      array.push(day);\n    }\n\n    array.sort();\n    setEvent({\n      ...event,\n      daysOfWeek: array,\n    });\n    console.log(array);\n  };\n\n  const handleSelectChange = (e) => {\n    const invitees = [];\n\n    e.forEach((e) => {\n      invitees.push(e.value);\n    });\n\n    setEvent({\n      ...event,\n      extendedProps: {\n        ...event.extendedProps,\n        invitees: invitees,\n      },\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(addEvent(event));\n  };\n\n  return (\n    <div className=\"add-event-div\">\n      <Button color=\"danger\" onClick={toggle}>\n        Add Event\n      </Button>\n\n      <Modal isOpen={isOpen} toggle={toggle}>\n        <ModalHeader toggle={toggle}>Add Event</ModalHeader>\n        <ModalBody>\n          <Form onSubmit={handleSubmit}>\n            <FormGroup>\n              <Label>Title</Label>\n              <Input\n                type=\"text\"\n                name=\"title\"\n                onChange={handleChange}\n                invalid={errors.title ? true : false}\n              />\n              <FormFeedback>{errors.title}</FormFeedback>\n            </FormGroup>\n            <FormGroup>\n              <Label>Location</Label>\n              <Input\n                type=\"text\"\n                name=\"location\"\n                onChange={handleExtendedChange}\n                invalid={errors.location ? true : false}\n              />\n              <FormFeedback>{errors.location}</FormFeedback>\n            </FormGroup>\n            <div className=\"start-end-date-div\">\n              <FormGroup>\n                <Label>Start Date</Label>\n                <Input\n                  type=\"date\"\n                  placeholder=\"date placeholder\"\n                  name=\"startDate\"\n                  onChange={handleChange}\n                  invalid={errors.startDate ? true : false}\n                />\n                <FormFeedback>{errors.startDate}</FormFeedback>\n              </FormGroup>\n              <FormGroup>\n                <Label>End Date</Label>\n                <Input\n                  type=\"date\"\n                  placeholder=\"date placeholder\"\n                  name=\"endDate\"\n                  onChange={handleChange}\n                  invalid={errors.endDate ? true : false}\n                />\n                <FormFeedback>{errors.endDate}</FormFeedback>\n              </FormGroup>\n            </div>\n            <div className=\"start-end-time-div\">\n              <FormGroup>\n                <Label>Start Time</Label>\n                <Input\n                  type=\"time\"\n                  placeholder=\"time placeholder\"\n                  name=\"startTime\"\n                  onChange={handleChange}\n                />\n              </FormGroup>\n              <FormGroup>\n                <Label>End Time</Label>\n                <Input\n                  type=\"time\"\n                  placeholder=\"time placeholder\"\n                  name=\"endTime\"\n                  onChange={handleChange}\n                  invalid={errors.endTime ? true : false}\n                />\n                <FormFeedback>{errors.endTime}</FormFeedback>\n              </FormGroup>\n            </div>\n            <FormGroup>\n              <Label>Description</Label>\n              <Input\n                type=\"textarea\"\n                name=\"description\"\n                onChange={handleExtendedChange}\n              />\n            </FormGroup>\n            <div className=\"recurring-div\">\n              <FormGroup inline check>\n                <Label inline check>\n                  Is this a recurring event?{\" \"}\n                  <Input\n                    type=\"checkbox\"\n                    name=\"recurring\"\n                    onChange={handleRecurringChange}\n                  />\n                </Label>\n              </FormGroup>\n              {event.recurring ? (\n                <div>\n                  <Label>Which days should this event recur?</Label>\n                  <FormGroup check>\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        name=\"daysOfWeek\"\n                        value=\"0\"\n                        onChange={handleDaysChange}\n                      />{\" \"}\n                      Sunday\n                    </Label>\n                    <br />\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        name=\"daysOfWeek\"\n                        value=\"1\"\n                        onChange={handleDaysChange}\n                      />{\" \"}\n                      Monday\n                    </Label>\n                    <br />\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        name=\"daysOfWeek\"\n                        value=\"2\"\n                        onChange={handleDaysChange}\n                      />{\" \"}\n                      Tuesday\n                    </Label>\n                    <br />\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        name=\"daysOfWeek\"\n                        value=\"3\"\n                        onChange={handleDaysChange}\n                      />{\" \"}\n                      Wednesday\n                    </Label>\n                    <br />\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        name=\"daysOfWeek\"\n                        value=\"4\"\n                        onChange={handleDaysChange}\n                      />{\" \"}\n                      Thursday\n                    </Label>\n                    <br />\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        name=\"daysOfWeek\"\n                        value=\"5\"\n                        onChange={handleDaysChange}\n                      />{\" \"}\n                      Friday\n                    </Label>\n                    <br />\n                    <Label check>\n                      <Input\n                        type=\"checkbox\"\n                        name=\"daysOfWeek\"\n                        value=\"6\"\n                        onChange={handleDaysChange}\n                      />{\" \"}\n                      Saturday\n                    </Label>\n                  </FormGroup>\n                </div>\n              ) : null}\n            </div>\n            <FormGroup>\n              <Label>Invitees</Label>\n              <Select\n                isMulti\n                name=\"invitees\"\n                options={employees}\n                onChange={handleSelectChange}\n                className={errors.invitees ? \"invalid\" : \"\"}\n              />\n              <Input\n                type=\"hidden\"\n                disabled\n                invalid={errors.invitees ? true : false}\n              />\n              <FormFeedback>{errors.invitees}</FormFeedback>\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" onClick={handleSubmit}>Submit</Button>\n        </ModalFooter>\n      </Modal>\n    </div>\n  );\n};\n\nexport default AddEventBtn;\n"]},"metadata":{},"sourceType":"module"}