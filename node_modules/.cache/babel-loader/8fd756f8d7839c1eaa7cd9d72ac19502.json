{"ast":null,"code":"import _defineProperty from\"/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{useSelector,useDispatch}from'react-redux';import{Table,Modal,ModalHeader,ModalBody,ModalFooter,Button,Form,FormGroup,FormFeedback,Label,Input}from'reactstrap';import{editEmployee}from'../../actions/editEmployee';import{changeEmployeeStatus}from'../../actions/changeEmployeeStatus';import'../../styles/employee-dashboard.scss';var EmployeeTable=function EmployeeTable(props){var _useState=useState({firstName:'',lastName:'',jobTitle:'',tierLevel:undefined,phoneNumber:'',email:'',userId:'',active:undefined}),_useState2=_slicedToArray(_useState,2),curEmployee=_useState2[0],setCurEmployee=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errorsOne=_useState4[0],setErrorsOne=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),successOne=_useState6[0],setSuccessOne=_useState6[1];var getErrorsOne=useSelector(function(state){return state.editEmployeeReducer.errors;});var getSuccessOne=useSelector(function(state){return state.editEmployeeReducer.success;});var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isOpenModalOne=_useState8[0],setIsOpenModalOne=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),successTwo=_useState10[0],setSuccessTwo=_useState10[1];var getSuccessTwo=useSelector(function(state){return state.changeEmployeeStatusReducer.success;});var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isOpenModalTwo=_useState12[0],setIsOpenModalTwo=_useState12[1];var dispatch=useDispatch();var isFirstRun=useRef(true);useEffect(function(){if(isFirstRun.current){isFirstRun.current=false;return;};setErrorsOne(getErrorsOne);},[getErrorsOne]);useEffect(function(){if(getSuccessOne===true){setSuccessOne(true);};if(getSuccessTwo===true){setSuccessTwo(true);}},[getSuccessOne,getSuccessTwo]);useEffect(function(){if(successOne===true){setIsOpenModalOne(false);setErrorsOne({});setSuccessOne(false);setCurEmployee({firstName:'',lastName:'',jobTitle:'',tierLevel:undefined,phoneNumber:'',email:'',userId:'',active:undefined});};if(successTwo===true){setIsOpenModalTwo(false);setSuccessTwo(false);setCurEmployee({firstName:'',lastName:'',jobTitle:'',tierLevel:undefined,phoneNumber:'',email:'',userId:'',active:undefined});};},[successOne,successTwo]);var toggleOne=function toggleOne(e,employee){if(!isOpenModalOne){setCurEmployee({firstName:employee.firstName,lastName:employee.lastName,jobTitle:employee.jobTitle,tierLevel:employee.tierLevel,phoneNumber:employee.phoneNumber,email:employee.email,userId:employee.userId,active:employee.active});}else if(isOpenModalOne){setCurEmployee({firstName:'',lastName:'',jobTitle:'',tierLevel:null,phoneNumber:'',email:'',userId:'',active:undefined});}setIsOpenModalOne(!isOpenModalOne);setErrorsOne({});};var toggleTwo=function toggleTwo(e,employee){if(!isOpenModalTwo){setCurEmployee({firstName:employee.firstName,lastName:employee.lastName,jobTitle:employee.jobTitle,tierLevel:employee.tierLevel,phoneNumber:employee.phoneNumber,email:employee.email,userId:employee.userId,active:employee.active});}else if(isOpenModalTwo){setCurEmployee({firstName:'',lastName:'',jobTitle:'',tierLevel:null,phoneNumber:'',email:'',userId:'',active:undefined});}setIsOpenModalTwo(!isOpenModalTwo);};var handleChange=function handleChange(e){setCurEmployee(_objectSpread(_objectSpread({},curEmployee),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmitOne=function handleSubmitOne(e){e.preventDefault();dispatch(editEmployee(curEmployee));};var handleSubmitTwo=function handleSubmitTwo(e){e.preventDefault();dispatch(changeEmployeeStatus(curEmployee));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Table,{hover:true},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Job Title\"),/*#__PURE__*/React.createElement(\"th\",null,\"Tier Level\"),/*#__PURE__*/React.createElement(\"th\",null,\"Phone Number\"),/*#__PURE__*/React.createElement(\"th\",null,\"Email\"),/*#__PURE__*/React.createElement(\"th\",null),\" \",/*#__PURE__*/React.createElement(\"th\",null),\" \")),/*#__PURE__*/React.createElement(\"tbody\",null,props?props.props.map(function(employee){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",className:employee.active?\"\":\"text-muted\"},employee.firstName,\" \",employee.lastName),/*#__PURE__*/React.createElement(\"td\",{className:employee.active?\"\":\"text-muted\"},employee.jobTitle),/*#__PURE__*/React.createElement(\"td\",{className:\"tier-level-col \".concat(employee.active?\"\":\"text-muted\")},employee.tierLevel),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{className:employee.active?\"\":\"text-muted\",href:\"tel:+1-\".concat(employee.phoneNumber)},employee.phoneNumber)),/*#__PURE__*/React.createElement(\"td\",{className:employee.active?\"\":\"text-muted\"},employee.email),/*#__PURE__*/React.createElement(\"td\",{className:employee.active?\"\":\"text-muted\",onClick:function onClick(e){return toggleOne(e,employee);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fad fa-pen\"})),/*#__PURE__*/React.createElement(\"td\",{className:employee.active?\"\":\"text-muted\",onClick:function onClick(e){return toggleTwo(e,employee);}},/*#__PURE__*/React.createElement(\"i\",{className:\"fad fa-trash\"})));}):null)),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpenModalOne,toggle:toggleOne},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggleOne},\"Edit Employee\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmitOne},/*#__PURE__*/React.createElement(\"div\",{className:\"name-div\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"firstName\"},\"First Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"firstName\",id:\"firstName\",onChange:handleChange,value:curEmployee.firstName,invalid:errorsOne.firstName?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errorsOne.firstName)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"lastName\"},\"Last Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"lastName\",id:\"lastName\",onChange:handleChange,value:curEmployee.lastName,invalid:errorsOne.lastName?true:false}),/*#__PURE__*/React.createElement(FormFeedback,null,errorsOne.lastName))),/*#__PURE__*/React.createElement(\"div\",{className:\"job-info-div\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"job-title-form-group\"},/*#__PURE__*/React.createElement(Label,{for:\"jobTitle\"},\"Job Title\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"jobTitle\",id:\"jobTitle\",onChange:handleChange,value:curEmployee.jobTitle,invalid:errorsOne.jobTitle?true:false},/*#__PURE__*/React.createElement(\"option\",null,\"Select\"),/*#__PURE__*/React.createElement(\"option\",null,\"Service Technician\"),/*#__PURE__*/React.createElement(\"option\",null,\"Outside Sales\"),/*#__PURE__*/React.createElement(\"option\",null,\"Service Manager\"),/*#__PURE__*/React.createElement(\"option\",null,\"Dispatch\"),/*#__PURE__*/React.createElement(\"option\",null,\"Office Manager\"),/*#__PURE__*/React.createElement(\"option\",null,\"Owner\")),/*#__PURE__*/React.createElement(FormFeedback,null,errorsOne.jobTitle)),/*#__PURE__*/React.createElement(FormGroup,{className:\"tier-level-form-group\"},/*#__PURE__*/React.createElement(Label,{for:\"tierLevel\"},\"Tier Level\"),/*#__PURE__*/React.createElement(Input,{type:\"select\",name:\"tierLevel\",id:\"tierLevel\",onChange:handleChange,value:curEmployee.tierLevel,invalid:errorsOne.tierLevel},/*#__PURE__*/React.createElement(\"option\",null,\"Select\"),/*#__PURE__*/React.createElement(\"option\",null,\"1\"),/*#__PURE__*/React.createElement(\"option\",null,\"2\"),/*#__PURE__*/React.createElement(\"option\",null,\"3\")),/*#__PURE__*/React.createElement(FormFeedback,null,errorsOne.tierLevel))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"phoneNumber\"},\"Phone Number\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"phoneNumber\",id:\"phoneNumber\",placeholder:\"XXX-XXX-XXXX\",onChange:handleChange,value:curEmployee.phoneNumber,invalid:errorsOne.phoneNumber}),/*#__PURE__*/React.createElement(FormFeedback,null,errorsOne.phoneNumber)),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(Input,{type:\"email\",name:\"email\",id:\"email\",onChange:handleChange,disabled:true,value:curEmployee.email})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",type:\"submit\",onClick:handleSubmitOne},\"Submit\"))),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpenModalTwo,toggle:toggleTwo},/*#__PURE__*/React.createElement(ModalHeader,{toggle:toggleTwo},curEmployee.active?\"Set Employee as Inactive\":\"Set Employee as Active\"),/*#__PURE__*/React.createElement(ModalBody,null,curEmployee.active?\"Would you like to set \".concat(curEmployee.firstName,\"'s status as inactive?\"):\"Would you like to set \".concat(curEmployee.firstName,\"'s status as active?\")),/*#__PURE__*/React.createElement(ModalFooter,{className:\"modal-two-footer\"},/*#__PURE__*/React.createElement(Button,{color:\"success\",type:\"submit\",className:\"modal-two-btn\",onClick:handleSubmitTwo},\"YES\"),/*#__PURE__*/React.createElement(Button,{color:\"danger\",className:\"modal-two-btn\",onClick:toggleTwo},\"NO\"))));};export default EmployeeTable;","map":{"version":3,"sources":["/Users/coryhale/Documents/rocky-mountain-lifts/rocky_mountain_lifts_crm/rml_crm/src/components/Employees/EmployeeTable.js"],"names":["React","useState","useEffect","useRef","useSelector","useDispatch","Table","Modal","ModalHeader","ModalBody","ModalFooter","Button","Form","FormGroup","FormFeedback","Label","Input","editEmployee","changeEmployeeStatus","EmployeeTable","props","firstName","lastName","jobTitle","tierLevel","undefined","phoneNumber","email","userId","active","curEmployee","setCurEmployee","errorsOne","setErrorsOne","successOne","setSuccessOne","getErrorsOne","state","editEmployeeReducer","errors","getSuccessOne","success","isOpenModalOne","setIsOpenModalOne","successTwo","setSuccessTwo","getSuccessTwo","changeEmployeeStatusReducer","isOpenModalTwo","setIsOpenModalTwo","dispatch","isFirstRun","current","toggleOne","e","employee","toggleTwo","handleChange","target","name","value","handleSubmitOne","preventDefault","handleSubmitTwo","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n    Table,\n    Modal,\n    ModalHeader,\n    ModalBody,\n    ModalFooter,\n    Button,\n    Form,\n    FormGroup,\n    FormFeedback,\n    Label,\n    Input\n} from 'reactstrap';\nimport { editEmployee } from '../../actions/editEmployee';\nimport { changeEmployeeStatus } from '../../actions/changeEmployeeStatus';\n\nimport '../../styles/employee-dashboard.scss';\n\nconst EmployeeTable = props => {\n    const [curEmployee, setCurEmployee] = useState({\n        firstName: '',\n        lastName: '',\n        jobTitle: '',\n        tierLevel: undefined,\n        phoneNumber: '',\n        email: '',\n        userId: '',\n        active: undefined\n    });\n    const [errorsOne, setErrorsOne] = useState({});\n    const [successOne, setSuccessOne] = useState(false);\n    const getErrorsOne = useSelector(state => state.editEmployeeReducer.errors);\n    const getSuccessOne = useSelector(state => state.editEmployeeReducer.success);\n    const [isOpenModalOne, setIsOpenModalOne] = useState(false);\n    const [successTwo, setSuccessTwo] = useState(false);\n    const getSuccessTwo = useSelector(state => state.changeEmployeeStatusReducer.success);\n    const [isOpenModalTwo, setIsOpenModalTwo] = useState(false);\n    const dispatch = useDispatch();\n\n    const isFirstRun = useRef(true);\n    useEffect(() => {\n        if(isFirstRun.current) {\n            isFirstRun.current = false;\n            return;\n        };\n        setErrorsOne(getErrorsOne);\n    }, [getErrorsOne]);\n\n    useEffect(() => {\n        if(getSuccessOne === true) {\n            setSuccessOne(true);\n        };\n        if(getSuccessTwo === true) {\n            setSuccessTwo(true);\n        }\n    }, [getSuccessOne, getSuccessTwo]);\n\n    useEffect(() => {\n        if(successOne === true) {\n            setIsOpenModalOne(false);\n            setErrorsOne({});\n            setSuccessOne(false);\n            setCurEmployee({\n                firstName: '',\n                lastName: '',\n                jobTitle: '',\n                tierLevel: undefined,\n                phoneNumber: '',\n                email: '',\n                userId: '',\n                active: undefined\n            });\n        };\n        if(successTwo === true) {\n            setIsOpenModalTwo(false);\n            setSuccessTwo(false);\n            setCurEmployee({\n                firstName: '',\n                lastName: '',\n                jobTitle: '',\n                tierLevel: undefined,\n                phoneNumber: '',\n                email: '',\n                userId: '',\n                active: undefined\n            });\n        };\n    }, [successOne, successTwo]);\n\n    const toggleOne = (e, employee) => {\n        if(!isOpenModalOne) {\n            setCurEmployee({\n                firstName: employee.firstName,\n                lastName: employee.lastName,\n                jobTitle: employee.jobTitle,\n                tierLevel: employee.tierLevel,\n                phoneNumber: employee.phoneNumber,\n                email: employee.email,\n                userId: employee.userId,\n                active: employee.active\n            });\n        } else if(isOpenModalOne) {\n            setCurEmployee({\n                firstName: '',\n                lastName: '',\n                jobTitle: '',\n                tierLevel: null,\n                phoneNumber: '',\n                email: '',\n                userId: '',\n                active: undefined\n            });\n        }\n        setIsOpenModalOne(!isOpenModalOne);\n        setErrorsOne({});\n    };\n\n    const toggleTwo = (e, employee) => {\n        if(!isOpenModalTwo) {\n            setCurEmployee({\n                firstName: employee.firstName,\n                lastName: employee.lastName,\n                jobTitle: employee.jobTitle,\n                tierLevel: employee.tierLevel,\n                phoneNumber: employee.phoneNumber,\n                email: employee.email,\n                userId: employee.userId,\n                active: employee.active\n            });\n        } else if(isOpenModalTwo) {\n            setCurEmployee({\n                firstName: '',\n                lastName: '',\n                jobTitle: '',\n                tierLevel: null,\n                phoneNumber: '',\n                email: '',\n                userId: '',\n                active: undefined\n            });\n        }\n        setIsOpenModalTwo(!isOpenModalTwo);\n    };\n\n    const handleChange = e => {\n        setCurEmployee({\n            ...curEmployee,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    const handleSubmitOne = e => {\n        e.preventDefault();\n        dispatch(editEmployee(curEmployee));\n    };\n\n    const handleSubmitTwo = e => {\n        e.preventDefault();\n        dispatch(changeEmployeeStatus(curEmployee));\n    };\n    \n    return (\n        <div>\n            <Table hover>\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Job Title</th>\n                        <th>Tier Level</th>\n                        <th>Phone Number</th>\n                        <th>Email</th>\n                        <th></th> {/*This empty header is for the edit button*/}\n                        <th></th> {/*This empty header is for the change status button*/}\n                    </tr>\n                </thead>\n                <tbody>\n                    {props ? props.props.map(employee => (\n                        <tr>\n                            <th scope=\"row\" className={employee.active ? \"\" : \"text-muted\"}>{employee.firstName} {employee.lastName}</th>\n                            <td className={employee.active ? \"\" : \"text-muted\"}>{employee.jobTitle}</td>\n                            <td className={`tier-level-col ${employee.active ? \"\" : \"text-muted\"}`}>{employee.tierLevel}</td>\n                            <td>\n                                <a className={employee.active ? \"\" : \"text-muted\"} href={`tel:+1-${employee.phoneNumber}`}>{employee.phoneNumber}</a>\n                            </td>\n                            <td className={employee.active ? \"\" : \"text-muted\"}>{employee.email}</td>\n                            <td className={employee.active ? \"\" : \"text-muted\"} onClick={(e) => toggleOne(e, employee)}><i className=\"fad fa-pen\" /></td>\n                            <td className={employee.active ? \"\" : \"text-muted\"} onClick={(e) => toggleTwo(e, employee)}><i className=\"fad fa-trash\" /></td>\n                        </tr>\n                    )) : null}\n                </tbody>\n            </Table>\n            <Modal isOpen={isOpenModalOne} toggle={toggleOne}>\n                <ModalHeader toggle={toggleOne}>Edit Employee</ModalHeader>\n                <ModalBody>\n                    <Form onSubmit={handleSubmitOne}>\n                        <div className=\"name-div\">\n                            <FormGroup>\n                                <Label for=\"firstName\">First Name</Label>\n                                <Input type=\"text\" name=\"firstName\" id=\"firstName\" onChange={handleChange} value={curEmployee.firstName} invalid={errorsOne.firstName ? true : false} />\n                                <FormFeedback>{errorsOne.firstName}</FormFeedback>\n                            </FormGroup>\n                            <FormGroup>\n                                <Label for=\"lastName\">Last Name</Label>\n                                <Input type=\"text\" name=\"lastName\" id=\"lastName\" onChange={handleChange} value={curEmployee.lastName} invalid={errorsOne.lastName ? true : false} />\n                                <FormFeedback>{errorsOne.lastName}</FormFeedback>\n                            </FormGroup>\n                        </div>\n                        <div className=\"job-info-div\">\n                            <FormGroup className=\"job-title-form-group\">\n                                <Label for=\"jobTitle\">Job Title</Label>\n                                <Input type=\"select\" name=\"jobTitle\" id=\"jobTitle\" onChange={handleChange} value={curEmployee.jobTitle} invalid={errorsOne.jobTitle ? true : false}>\n                                    <option>Select</option>\n                                    <option>Service Technician</option>\n                                    <option>Outside Sales</option>\n                                    <option>Service Manager</option>\n                                    <option>Dispatch</option>\n                                    <option>Office Manager</option>\n                                    <option>Owner</option>\n                                </Input>\n                                <FormFeedback>{errorsOne.jobTitle}</FormFeedback>\n                            </FormGroup>\n                            <FormGroup className=\"tier-level-form-group\">\n                                <Label for=\"tierLevel\">Tier Level</Label>\n                                <Input type=\"select\" name=\"tierLevel\" id=\"tierLevel\" onChange={handleChange} value={curEmployee.tierLevel} invalid={errorsOne.tierLevel}>\n                                    <option>Select</option>\n                                    <option>1</option>\n                                    <option>2</option>\n                                    <option>3</option>\n                                </Input>\n                                <FormFeedback>{errorsOne.tierLevel}</FormFeedback>\n                            </FormGroup>\n                        </div>\n                        <FormGroup>\n                            <Label for=\"phoneNumber\">Phone Number</Label>\n                            <Input type=\"text\" name=\"phoneNumber\" id=\"phoneNumber\" placeholder=\"XXX-XXX-XXXX\" onChange={handleChange} value={curEmployee.phoneNumber} invalid={errorsOne.phoneNumber} />\n                            <FormFeedback>{errorsOne.phoneNumber}</FormFeedback>\n                        </FormGroup>\n                        <FormGroup>\n                            <Label for=\"email\">Email</Label>\n                            <Input type=\"email\" name=\"email\" id=\"email\" onChange={handleChange} disabled value={curEmployee.email} />\n                        </FormGroup>\n                    </Form>\n                </ModalBody>\n                <ModalFooter>\n                    <Button color=\"success\" type=\"submit\" onClick={handleSubmitOne}>Submit</Button>\n                </ModalFooter>\n            </Modal>\n            <Modal isOpen={isOpenModalTwo} toggle={toggleTwo}>\n                <ModalHeader toggle={toggleTwo}>{curEmployee.active ? \"Set Employee as Inactive\" : \"Set Employee as Active\"}</ModalHeader>\n                <ModalBody>\n                    {curEmployee.active ? `Would you like to set ${curEmployee.firstName}'s status as inactive?` : `Would you like to set ${curEmployee.firstName}'s status as active?`}\n                </ModalBody>\n                <ModalFooter className=\"modal-two-footer\">\n                    <Button color=\"success\" type=\"submit\" className=\"modal-two-btn\" onClick={handleSubmitTwo}>YES</Button>\n                    <Button color=\"danger\" className=\"modal-two-btn\" onClick={toggleTwo}>NO</Button>\n                </ModalFooter>\n            </Modal>\n        </div>\n    );\n};\n\nexport default EmployeeTable;"]},"metadata":{},"sourceType":"module"}