{"ast":null,"code":"var _jsxFileName = \"/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/src/components/content-components/Calendar.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport bootstrapPlugin from \"@fullcalendar/bootstrap\";\nimport \"@fullcalendar/daygrid/main.css\";\nimport \"@fullcalendar/timegrid/main.css\";\nimport \"../../styles/task.scss\";\n\nconst TaskCalendar = () => {\n  const flag = useSelector(state => state.taskToggleReducer.calendarView);\n  const [events, setEvents] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const fetchTasks = useSelector(state => state.getTasksReducer.tasks);\n  const [otherEvents, setOtherEvents] = useState([]);\n  const fetchEvents = useSelector(state => state.getEventsReducer.events);\n  const [workOrders, setWorkOrders] = useState([]);\n  const fetchWorkOrders = useSelector(state => state.getWorkOrdersReducer.workOrders);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    if (fetchTasks) {\n      fetchTasks.tasks.map(task => {\n        setEvents(events => [...events, {\n          title: task.taskDescription,\n          date: task.taskDate\n        }]);\n      });\n    }\n  }, [fetchTasks]);\n  useEffect(() => {\n    let allDay = false;\n    let start = \"\";\n    let end = \"\";\n\n    if (fetchEvents) {\n      fetchEvents.events.map(event => {\n        if (event.startTime === \"\") {\n          allDay = true;\n        }\n\n        if (event.startDate !== \"\" && event.startTime !== \"\") {\n          start = `${event.startDate}T${event.startTime}`;\n        } else {\n          start = event.startDate;\n        }\n\n        if (event.endDate === \"\") {\n          end = event.startDate;\n        } else if (event.endDate !== \"\" && event.endTime !== \"\") {\n          end = `${event.endDate}T${event.endTime}`;\n        } else {\n          end = event.endDate;\n        }\n\n        if (event.recurring) {\n          setEvents(events => [...events, {\n            title: event.title,\n            allDay: allDay,\n            start: start,\n            end: end,\n            startRecur: event.startDate,\n            daysOfWeek: event.daysOfWeek,\n            extendedProps: {\n              location: event.extendedProps.location,\n              invitees: event.extendedProps.invitees,\n              description: event.extendedProps.description\n            }\n          }]);\n        } else {\n          setEvents(events => [...events, {\n            title: event.title,\n            allDay: allDay,\n            start: start,\n            end: end,\n            extendedProps: {\n              location: event.extendedProps.location,\n              invitees: event.extendedProps.invitees,\n              description: event.extendedProps.description\n            }\n          }]);\n        }\n      });\n    }\n  }, [fetchEvents]);\n  useEffect(() => {\n    if (fetchWorkOrders) {\n      fetchWorkOrders.workOrders.map(workOrder => {\n        setEvents(events => [...events, {\n          title: workOrder.serviceDescription,\n          allDay: workOrder.allDay,\n          start: `${workOrder.serviceDate}T${workOrder.serviceStartTime}`,\n          end: `${workOrder.serviceDate}T${workOrder.serviceEndTime}`,\n          color: \"green\",\n          extendedProps: {\n            workOrderId: workOrder.workOrderId\n          }\n        }]);\n      });\n    }\n  }, [fetchWorkOrders]);\n\n  const handleEventClick = event => {\n    const workOrderId = event.event._def.extendedProps.workOrderId;\n\n    if (workOrderId) {\n      history.push(`/dashboard/workorders/${workOrderId}`);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"calendar-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FullCalendar, {\n    plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin, bootstrapPlugin],\n    initialView: \"dayGridMonth\",\n    headerToolbar: {\n      left: \"prev,next today\",\n      center: \"title\",\n      right: \"dayGridMonth,timeGridWeek,timeGridDay\"\n    },\n    events: events,\n    eventClick: handleEventClick,\n    themeSystem: \"bootstrap\",\n    height: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default TaskCalendar;","map":{"version":3,"sources":["/Users/coryhale/Documents/Rocky Mountain Lifts/rocky-mountain-lifts copy/src/components/content-components/Calendar.js"],"names":["React","useState","useEffect","useDispatch","useSelector","useHistory","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","bootstrapPlugin","TaskCalendar","flag","state","taskToggleReducer","calendarView","events","setEvents","tasks","setTasks","fetchTasks","getTasksReducer","otherEvents","setOtherEvents","fetchEvents","getEventsReducer","workOrders","setWorkOrders","fetchWorkOrders","getWorkOrdersReducer","dispatch","history","map","task","title","taskDescription","date","taskDate","allDay","start","end","event","startTime","startDate","endDate","endTime","recurring","startRecur","daysOfWeek","extendedProps","location","invitees","description","workOrder","serviceDescription","serviceDate","serviceStartTime","serviceEndTime","color","workOrderId","handleEventClick","_def","push","left","center","right"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport bootstrapPlugin from \"@fullcalendar/bootstrap\";\n\nimport \"@fullcalendar/daygrid/main.css\";\nimport \"@fullcalendar/timegrid/main.css\";\nimport \"../../styles/task.scss\";\n\nconst TaskCalendar = () => {\n  const flag = useSelector((state) => state.taskToggleReducer.calendarView);\n  const [events, setEvents] = useState([]);\n  const [tasks, setTasks] = useState([]);\n  const fetchTasks = useSelector((state) => state.getTasksReducer.tasks);\n  const [otherEvents, setOtherEvents] = useState([]);\n  const fetchEvents = useSelector((state) => state.getEventsReducer.events);\n  const [workOrders, setWorkOrders] = useState([]);\n  const fetchWorkOrders = useSelector(\n    (state) => state.getWorkOrdersReducer.workOrders\n  );\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (fetchTasks) {\n      fetchTasks.tasks.map((task) => {\n        setEvents((events) => [\n          ...events,\n          {\n            title: task.taskDescription,\n            date: task.taskDate,\n          },\n        ]);\n      });\n    }\n  }, [fetchTasks]);\n\n  useEffect(() => {\n    let allDay = false;\n    let start = \"\";\n    let end = \"\";\n\n    if (fetchEvents) {\n      fetchEvents.events.map((event) => {\n        if (event.startTime === \"\") {\n          allDay = true;\n        }\n\n        if (event.startDate !== \"\" && event.startTime !== \"\") {\n          start = `${event.startDate}T${event.startTime}`;\n        } else {\n          start = event.startDate;\n        }\n\n        if (event.endDate === \"\") {\n          end = event.startDate;\n        } else if (event.endDate !== \"\" && event.endTime !== \"\") {\n          end = `${event.endDate}T${event.endTime}`;\n        } else {\n          end = event.endDate;\n        }\n\n        if (event.recurring) {\n          setEvents((events) => [\n            ...events,\n            {\n              title: event.title,\n              allDay: allDay,\n              start: start,\n              end: end,\n              startRecur: event.startDate,\n              daysOfWeek: event.daysOfWeek,\n              extendedProps: {\n                location: event.extendedProps.location,\n                invitees: event.extendedProps.invitees,\n                description: event.extendedProps.description,\n              },\n            },\n          ]);\n        } else {\n          setEvents((events) => [\n            ...events,\n            {\n              title: event.title,\n              allDay: allDay,\n              start: start,\n              end: end,\n              extendedProps: {\n                location: event.extendedProps.location,\n                invitees: event.extendedProps.invitees,\n                description: event.extendedProps.description,\n              },\n            },\n          ]);\n        }\n      });\n    }\n  }, [fetchEvents]);\n\n  useEffect(() => {\n    if (fetchWorkOrders) {\n      fetchWorkOrders.workOrders.map((workOrder) => {\n        setEvents((events) => [\n          ...events,\n          {\n            title: workOrder.serviceDescription,\n            allDay: workOrder.allDay,\n            start: `${workOrder.serviceDate}T${workOrder.serviceStartTime}`,\n            end: `${workOrder.serviceDate}T${workOrder.serviceEndTime}`,\n            color: \"green\",\n            extendedProps: {\n              workOrderId: workOrder.workOrderId,\n            },\n          },\n        ]);\n      });\n    }\n  }, [fetchWorkOrders]);\n\n  const handleEventClick = (event) => {\n    const workOrderId = event.event._def.extendedProps.workOrderId;\n\n    if (workOrderId) {\n      history.push(`/dashboard/workorders/${workOrderId}`);\n    }\n  };\n\n  return (\n    <div className=\"calendar-page\">\n      <FullCalendar\n        plugins={[\n          dayGridPlugin,\n          timeGridPlugin,\n          interactionPlugin,\n          bootstrapPlugin,\n        ]}\n        initialView=\"dayGridMonth\"\n        headerToolbar={{\n          left: \"prev,next today\",\n          center: \"title\",\n          right: \"dayGridMonth,timeGridWeek,timeGridDay\",\n        }}\n        events={events}\n        eventClick={handleEventClick}\n        themeSystem=\"bootstrap\"\n        height=\"auto\"\n      />\n    </div>\n  );\n};\n\nexport default TaskCalendar;\n"]},"metadata":{},"sourceType":"module"}